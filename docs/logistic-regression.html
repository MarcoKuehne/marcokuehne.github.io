<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Logistic Regression | Becoming Fluent in Data</title>
  <meta name="description" content="A guide to become fluent in data." />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Logistic Regression | Becoming Fluent in Data" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/Cover.png" />
  <meta property="og:description" content="A guide to become fluent in data." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Logistic Regression | Becoming Fluent in Data" />
  
  <meta name="twitter:description" content="A guide to become fluent in data." />
  <meta name="twitter:image" content="/images/Cover.png" />

<meta name="author" content="Marco Kühne" />


<meta name="date" content="2023-02-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/Logo.ico" type="image/x-icon" />
<link rel="prev" href="regression.html"/>
<link rel="next" href="interaction-models.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<link href="libs/tippyjs-3.2.0/themes/google.css" rel="stylesheet" />
<link href="libs/tippyjs-3.2.0/themes/light-border.css" rel="stylesheet" />
<link href="libs/tippyjs-3.2.0/themes/light.css" rel="stylesheet" />
<link href="libs/tippyjs-3.2.0/themes/translucent.css" rel="stylesheet" />
<script src="libs/tippyjs-3.2.0/tippy.all.min.js"></script>
<script src="libs/tippy-binding-0.1.0/tippy.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.23/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<script type="application/json" class="js-hypothesis-config">
{
"showHighlights": false
}
</script>
<script async defer src="https://hypothes.is/embed.js"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P9BQG7T00K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P9BQG7T00K');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="www/webex.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/box_def.css" type="text/css" />
<link rel="stylesheet" href="css/box_amazing.css" type="text/css" />
<link rel="stylesheet" href="css/box_challenge.css" type="text/css" />
<link rel="stylesheet" href="css/box_dedicated.css" type="text/css" />
<link rel="stylesheet" href="css/box_reading.css" type="text/css" />
<link rel="stylesheet" href="css/ani.css" type="text/css" />
<link rel="stylesheet" href="css/background.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://marcokuehne.github.io/">Becoming Fluent in Data</a></li> <li><p class="aligncenter"> <img src="images/Logo.png" width="60%" height="60%"> </p></li>
<li class="divider"></li>
<li class="part"><span><b>I Intro</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html#dust-and-dark"><i class="fa fa-check"></i>Dust and Dark</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html#teach-learn-repeat"><i class="fa fa-check"></i>Teach – Learn – Repeat</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html"><i class="fa fa-check"></i>About the book</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#aims-of-this-book"><i class="fa fa-check"></i>Aims of this book</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#structure"><i class="fa fa-check"></i>Structure</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#color"><i class="fa fa-check"></i>Color</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#components"><i class="fa fa-check"></i>Components</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i>Intro to R</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#watching-paint-dry"><i class="fa fa-check"></i>Watching paint dry</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#when-paint-becomes-art"><i class="fa fa-check"></i>When paint becomes art</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#define-objects"><i class="fa fa-check"></i>Define objects</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#numeric-variables"><i class="fa fa-check"></i>Numeric Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#logical-variables"><i class="fa fa-check"></i>Logical Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#string-variables"><i class="fa fa-check"></i>String Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#factor-variables"><i class="fa fa-check"></i>Factor Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#combine-objects"><i class="fa fa-check"></i>Combine objects</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#data-frame"><i class="fa fa-check"></i>Data frame</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#plots"><i class="fa fa-check"></i>Plots</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Data</b></span></li>
<li class="chapter" data-level="1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html"><i class="fa fa-check"></i><b>1</b> Data is everywhere</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#why-we-measure"><i class="fa fa-check"></i><b>1.1</b> Why we measure</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#women-are-having-far-fewer-children."><i class="fa fa-check"></i><b>1.1.1</b> Women are having far fewer children.</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#global-surface-temperature-is-rising."><i class="fa fa-check"></i><b>1.1.2</b> Global surface temperature is rising.</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#means-of-measuring"><i class="fa fa-check"></i><b>1.2</b> Means of measuring</a></li>
<li class="chapter" data-level="1.3" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#types-of-data"><i class="fa fa-check"></i><b>1.3</b> Types of data</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#origin-of-data"><i class="fa fa-check"></i><b>1.3.1</b> Origin of data</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#analysis-of-data"><i class="fa fa-check"></i><b>1.3.2</b> Analysis of data</a></li>
<li class="chapter" data-level="1.3.3" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#structure-of-data"><i class="fa fa-check"></i><b>1.3.3</b> Structure of data</a></li>
<li class="chapter" data-level="1.3.4" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#the-level-of-access"><i class="fa fa-check"></i><b>1.3.4</b> The level of access</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#variables-inside-the-data"><i class="fa fa-check"></i><b>1.4</b> Variables inside the data</a></li>
<li class="chapter" data-level="1.5" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#the-reality-behind-the-data"><i class="fa fa-check"></i><b>1.5</b> The reality behind the data</a></li>
<li class="chapter" data-level="1.6" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#apply-your-knowledge"><i class="fa fa-check"></i><b>1.6</b> Apply your knowledge</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html"><i class="fa fa-check"></i><b>2</b> Software is everywhere</a>
<ul>
<li class="chapter" data-level="2.1" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#software"><i class="fa fa-check"></i><b>2.1</b> Software</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#command-line-interface-cli"><i class="fa fa-check"></i><b>2.1.1</b> Command line interface (CLI)</a></li>
<li class="chapter" data-level="2.1.2" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#graphical-user-interface-gui"><i class="fa fa-check"></i><b>2.1.2</b> Graphical user interface (GUI)</a></li>
<li class="chapter" data-level="2.1.3" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#integrated-development-environment-ide"><i class="fa fa-check"></i><b>2.1.3</b> Integrated development environment (IDE)</a></li>
<li class="chapter" data-level="2.1.4" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#online-compiler"><i class="fa fa-check"></i><b>2.1.4</b> Online Compiler</a></li>
<li class="chapter" data-level="2.1.5" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#cloud-solutions"><i class="fa fa-check"></i><b>2.1.5</b> Cloud solutions</a></li>
<li class="chapter" data-level="2.1.6" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#dashboards"><i class="fa fa-check"></i><b>2.1.6</b> Dashboards</a></li>
<li class="chapter" data-level="2.1.7" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#shiny-apps"><i class="fa fa-check"></i><b>2.1.7</b> Shiny Apps</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#file-formats"><i class="fa fa-check"></i><b>2.2</b> File formats</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#text-files"><i class="fa fa-check"></i><b>2.2.1</b> Text files</a></li>
<li class="chapter" data-level="2.2.2" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#text-with-structure"><i class="fa fa-check"></i><b>2.2.2</b> Text with structure</a></li>
<li class="chapter" data-level="2.2.3" data-path="software-is-everywhere.html"><a href="software-is-everywhere.html#file-formats-1"><i class="fa fa-check"></i><b>2.2.3</b> File formats</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="stories-are-everywhere.html"><a href="stories-are-everywhere.html"><i class="fa fa-check"></i><b>3</b> Stories are everywhere</a>
<ul>
<li class="chapter" data-level="3.1" data-path="stories-are-everywhere.html"><a href="stories-are-everywhere.html#telling-a-story"><i class="fa fa-check"></i><b>3.1</b> Telling a story</a></li>
<li class="chapter" data-level="3.2" data-path="stories-are-everywhere.html"><a href="stories-are-everywhere.html#visualization"><i class="fa fa-check"></i><b>3.2</b> Visualization</a></li>
<li class="chapter" data-level="3.3" data-path="stories-are-everywhere.html"><a href="stories-are-everywhere.html#less-is-more"><i class="fa fa-check"></i><b>3.3</b> Less is more</a></li>
<li class="chapter" data-level="3.4" data-path="stories-are-everywhere.html"><a href="stories-are-everywhere.html#never-use-pie-charts"><i class="fa fa-check"></i><b>3.4</b> Never use pie charts</a></li>
<li class="chapter" data-level="3.5" data-path="stories-are-everywhere.html"><a href="stories-are-everywhere.html#grammar-of-graphics"><i class="fa fa-check"></i><b>3.5</b> Grammar of Graphics</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="group-comparison.html"><a href="group-comparison.html"><i class="fa fa-check"></i><b>4</b> Group Comparison</a>
<ul>
<li class="chapter" data-level="4.1" data-path="group-comparison.html"><a href="group-comparison.html#comparability"><i class="fa fa-check"></i><b>4.1</b> Comparability</a></li>
<li class="chapter" data-level="4.2" data-path="group-comparison.html"><a href="group-comparison.html#application"><i class="fa fa-check"></i><b>4.2</b> Application</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="group-comparison.html"><a href="group-comparison.html#loading-the-data"><i class="fa fa-check"></i><b>4.2.1</b> Loading the data</a></li>
<li class="chapter" data-level="4.2.2" data-path="group-comparison.html"><a href="group-comparison.html#look-into-data"><i class="fa fa-check"></i><b>4.2.2</b> Look into data</a></li>
<li class="chapter" data-level="4.2.3" data-path="group-comparison.html"><a href="group-comparison.html#fly-over-data"><i class="fa fa-check"></i><b>4.2.3</b> Fly over data</a></li>
<li class="chapter" data-level="4.2.4" data-path="group-comparison.html"><a href="group-comparison.html#missing-data"><i class="fa fa-check"></i><b>4.2.4</b> Missing data</a></li>
<li class="chapter" data-level="4.2.5" data-path="group-comparison.html"><a href="group-comparison.html#explore-data"><i class="fa fa-check"></i><b>4.2.5</b> Explore data</a></li>
<li class="chapter" data-level="4.2.6" data-path="group-comparison.html"><a href="group-comparison.html#standardization"><i class="fa fa-check"></i><b>4.2.6</b> Standardization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mean-comparison.html"><a href="mean-comparison.html"><i class="fa fa-check"></i><b>5</b> Mean Comparison</a>
<ul>
<li class="chapter" data-level="5.1" data-path="mean-comparison.html"><a href="mean-comparison.html#application-1"><i class="fa fa-check"></i><b>5.1</b> Application</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="mean-comparison.html"><a href="mean-comparison.html#data-preparation"><i class="fa fa-check"></i><b>5.1.1</b> Data Preparation</a></li>
<li class="chapter" data-level="5.1.2" data-path="mean-comparison.html"><a href="mean-comparison.html#grouped-mean"><i class="fa fa-check"></i><b>5.1.2</b> Grouped Mean</a></li>
<li class="chapter" data-level="5.1.3" data-path="mean-comparison.html"><a href="mean-comparison.html#furious-with-factors"><i class="fa fa-check"></i><b>5.1.3</b> Furious with Factors</a></li>
<li class="chapter" data-level="5.1.4" data-path="mean-comparison.html"><a href="mean-comparison.html#plot-with-confidence"><i class="fa fa-check"></i><b>5.1.4</b> Plot with Confidence</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="mean-comparison.html"><a href="mean-comparison.html#students-t-test"><i class="fa fa-check"></i><b>5.2</b> Student's t-test</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="mean-comparison.html"><a href="mean-comparison.html#independent-t-test"><i class="fa fa-check"></i><b>5.2.1</b> Independent t-test</a></li>
<li class="chapter" data-level="5.2.2" data-path="mean-comparison.html"><a href="mean-comparison.html#dependent-t-test"><i class="fa fa-check"></i><b>5.2.2</b> Dependent t-test</a></li>
<li class="chapter" data-level="5.2.3" data-path="mean-comparison.html"><a href="mean-comparison.html#one-sample-t-test"><i class="fa fa-check"></i><b>5.2.3</b> One sample t-test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="panel-data.html"><a href="panel-data.html"><i class="fa fa-check"></i><b>6</b> Panel Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="panel-data.html"><a href="panel-data.html#types-of-data-1"><i class="fa fa-check"></i><b>6.1</b> Types of Data</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="panel-data.html"><a href="panel-data.html#cross-section"><i class="fa fa-check"></i><b>6.1.1</b> Cross-section</a></li>
<li class="chapter" data-level="6.1.2" data-path="panel-data.html"><a href="panel-data.html#repeated-cross-section"><i class="fa fa-check"></i><b>6.1.2</b> Repeated cross-section</a></li>
<li class="chapter" data-level="6.1.3" data-path="panel-data.html"><a href="panel-data.html#time-series"><i class="fa fa-check"></i><b>6.1.3</b> Time series</a></li>
<li class="chapter" data-level="6.1.4" data-path="panel-data.html"><a href="panel-data.html#panel-data-1"><i class="fa fa-check"></i><b>6.1.4</b> Panel data</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="panel-data.html"><a href="panel-data.html#unemployment"><i class="fa fa-check"></i><b>6.2</b> Unemployment</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="panel-data.html"><a href="panel-data.html#on-decline-in-germany"><i class="fa fa-check"></i><b>6.2.1</b> On decline in Germany</a></li>
<li class="chapter" data-level="6.2.2" data-path="panel-data.html"><a href="panel-data.html#measurement"><i class="fa fa-check"></i><b>6.2.2</b> Measurement</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="panel-data.html"><a href="panel-data.html#application-2"><i class="fa fa-check"></i><b>6.3</b> Application</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="panel-data.html"><a href="panel-data.html#data-inspection"><i class="fa fa-check"></i><b>6.3.1</b> Data Inspection</a></li>
<li class="chapter" data-level="6.3.2" data-path="panel-data.html"><a href="panel-data.html#data-preparation-1"><i class="fa fa-check"></i><b>6.3.2</b> Data Preparation</a></li>
<li class="chapter" data-level="6.3.3" data-path="panel-data.html"><a href="panel-data.html#data-visualization"><i class="fa fa-check"></i><b>6.3.3</b> Data Visualization</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="panel-data.html"><a href="panel-data.html#panel-studies"><i class="fa fa-check"></i><b>6.4</b> Panel Studies</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-scraping.html"><a href="data-scraping.html"><i class="fa fa-check"></i><b>7</b> Data Scraping</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-scraping.html"><a href="data-scraping.html#student-numbers-at-viadrina"><i class="fa fa-check"></i><b>7.1</b> Student numbers at Viadrina</a></li>
<li class="chapter" data-level="7.2" data-path="data-scraping.html"><a href="data-scraping.html#pdf-scraping"><i class="fa fa-check"></i><b>7.2</b> PDF scraping</a></li>
<li class="chapter" data-level="7.3" data-path="data-scraping.html"><a href="data-scraping.html#share-of-female-students"><i class="fa fa-check"></i><b>7.3</b> Share of female students</a></li>
<li class="chapter" data-level="7.4" data-path="data-scraping.html"><a href="data-scraping.html#share-of-foreign-students"><i class="fa fa-check"></i><b>7.4</b> Share of foreign students</a></li>
<li class="chapter" data-level="7.5" data-path="data-scraping.html"><a href="data-scraping.html#web-scraping"><i class="fa fa-check"></i><b>7.5</b> Web scraping</a></li>
<li class="chapter" data-level="7.6" data-path="data-scraping.html"><a href="data-scraping.html#most-recent-student-numbers"><i class="fa fa-check"></i><b>7.6</b> Most recent student numbers</a></li>
<li class="chapter" data-level="7.7" data-path="data-scraping.html"><a href="data-scraping.html#the-long-run-trend"><i class="fa fa-check"></i><b>7.7</b> The long run trend</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="text-mining.html"><a href="text-mining.html"><i class="fa fa-check"></i><b>8</b> Text Mining</a>
<ul>
<li class="chapter" data-level="8.1" data-path="text-mining.html"><a href="text-mining.html#wikipedia"><i class="fa fa-check"></i><b>8.1</b> Wikipedia</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="text-mining.html"><a href="text-mining.html#cleaning"><i class="fa fa-check"></i><b>8.1.1</b> Cleaning</a></li>
<li class="chapter" data-level="8.1.2" data-path="text-mining.html"><a href="text-mining.html#tidytext-format"><i class="fa fa-check"></i><b>8.1.2</b> Tidytext Format</a></li>
<li class="chapter" data-level="8.1.3" data-path="text-mining.html"><a href="text-mining.html#stopwords"><i class="fa fa-check"></i><b>8.1.3</b> Stopwords</a></li>
<li class="chapter" data-level="8.1.4" data-path="text-mining.html"><a href="text-mining.html#term-frequency"><i class="fa fa-check"></i><b>8.1.4</b> Term Frequency</a></li>
<li class="chapter" data-level="8.1.5" data-path="text-mining.html"><a href="text-mining.html#little-bit-of-scraping"><i class="fa fa-check"></i><b>8.1.5</b> Little bit of Scraping</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="text-mining.html"><a href="text-mining.html#field-trip-to-berlin"><i class="fa fa-check"></i><b>8.2</b> Field Trip to Berlin</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="text-mining.html"><a href="text-mining.html#text-preparation"><i class="fa fa-check"></i><b>8.2.1</b> Text Preparation</a></li>
<li class="chapter" data-level="8.2.2" data-path="text-mining.html"><a href="text-mining.html#sentiment-analysis"><i class="fa fa-check"></i><b>8.2.2</b> Sentiment Analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="relationships.html"><a href="relationships.html"><i class="fa fa-check"></i><b>9</b> Relationships</a>
<ul>
<li class="chapter" data-level="9.1" data-path="relationships.html"><a href="relationships.html#minimal-example"><i class="fa fa-check"></i><b>9.1</b> Minimal Example</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="relationships.html"><a href="relationships.html#variance"><i class="fa fa-check"></i><b>9.1.1</b> Variance</a></li>
<li class="chapter" data-level="9.1.2" data-path="relationships.html"><a href="relationships.html#variation-around-the-mean"><i class="fa fa-check"></i><b>9.1.2</b> Variation ARound the Mean</a></li>
<li class="chapter" data-level="9.1.3" data-path="relationships.html"><a href="relationships.html#scatterplot"><i class="fa fa-check"></i><b>9.1.3</b> Scatterplot</a></li>
<li class="chapter" data-level="9.1.4" data-path="relationships.html"><a href="relationships.html#covariance"><i class="fa fa-check"></i><b>9.1.4</b> Covariance</a></li>
<li class="chapter" data-level="9.1.5" data-path="relationships.html"><a href="relationships.html#covariance-visualization"><i class="fa fa-check"></i><b>9.1.5</b> Covariance Visualization</a></li>
<li class="chapter" data-level="9.1.6" data-path="relationships.html"><a href="relationships.html#correlation"><i class="fa fa-check"></i><b>9.1.6</b> Correlation</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="relationships.html"><a href="relationships.html#application-3"><i class="fa fa-check"></i><b>9.2</b> Application</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="relationships.html"><a href="relationships.html#one-variable-graphics"><i class="fa fa-check"></i><b>9.2.1</b> One Variable Graphics</a></li>
<li class="chapter" data-level="9.2.2" data-path="relationships.html"><a href="relationships.html#two-variable-graphics"><i class="fa fa-check"></i><b>9.2.2</b> Two Variable Graphics</a></li>
<li class="chapter" data-level="9.2.3" data-path="relationships.html"><a href="relationships.html#correlation-and-regression"><i class="fa fa-check"></i><b>9.2.3</b> Correlation and Regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>10</b> Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="regression.html"><a href="regression.html#from-artists-and-economists"><i class="fa fa-check"></i><b>10.1</b> From Artists and Economists</a></li>
<li class="chapter" data-level="10.2" data-path="regression.html"><a href="regression.html#data-is-everywhere-1"><i class="fa fa-check"></i><b>10.2</b> Data is everywhere</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="regression.html"><a href="regression.html#data-in-a-table"><i class="fa fa-check"></i><b>10.2.1</b> Data in a table</a></li>
<li class="chapter" data-level="10.2.2" data-path="regression.html"><a href="regression.html#data-in-a-graph"><i class="fa fa-check"></i><b>10.2.2</b> Data in a graph</a></li>
<li class="chapter" data-level="10.2.3" data-path="regression.html"><a href="regression.html#the-trend"><i class="fa fa-check"></i><b>10.2.3</b> The trend</a></li>
<li class="chapter" data-level="10.2.4" data-path="regression.html"><a href="regression.html#the-blackbox"><i class="fa fa-check"></i><b>10.2.4</b> The blackbox</a></li>
<li class="chapter" data-level="10.2.5" data-path="regression.html"><a href="regression.html#nobodys-perfect"><i class="fa fa-check"></i><b>10.2.5</b> Nobody's perfect</a></li>
<li class="chapter" data-level="10.2.6" data-path="regression.html"><a href="regression.html#vocab-wrap-up"><i class="fa fa-check"></i><b>10.2.6</b> Vocab Wrap-Up</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="regression.html"><a href="regression.html#for-the-truly-dedicated"><i class="fa fa-check"></i><b>10.3</b> For the truly dedicated</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="regression.html"><a href="regression.html#algebra"><i class="fa fa-check"></i><b>10.3.1</b> Algebra</a></li>
<li class="chapter" data-level="10.3.2" data-path="regression.html"><a href="regression.html#analysis"><i class="fa fa-check"></i><b>10.3.2</b> Analysis</a></li>
<li class="chapter" data-level="10.3.3" data-path="regression.html"><a href="regression.html#take-the-long-way-home"><i class="fa fa-check"></i><b>10.3.3</b> Take the Long Way Home</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="regression.html"><a href="regression.html#survival-of-the-fittest-line"><i class="fa fa-check"></i><b>10.4</b> Survival of the Fittest Line</a></li>
<li class="chapter" data-level="10.5" data-path="regression.html"><a href="regression.html#on-the-shoulders-of-giants"><i class="fa fa-check"></i><b>10.5</b> On the Shoulders of Giants</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>11</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="11.1" data-path="logistic-regression.html"><a href="logistic-regression.html#think-inside-the-box"><i class="fa fa-check"></i><b>11.1</b> Think inside the box</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="logistic-regression.html"><a href="logistic-regression.html#from-probability-to-odds"><i class="fa fa-check"></i><b>11.1.1</b> From probability to odds</a></li>
<li class="chapter" data-level="11.1.2" data-path="logistic-regression.html"><a href="logistic-regression.html#from-odds-to-log-of-odds"><i class="fa fa-check"></i><b>11.1.2</b> From odds to log of odds</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="logistic-regression.html"><a href="logistic-regression.html#application-titanic-survival"><i class="fa fa-check"></i><b>11.2</b> Application: Titanic Survival</a></li>
<li class="chapter" data-level="11.3" data-path="logistic-regression.html"><a href="logistic-regression.html#addons"><i class="fa fa-check"></i><b>11.3</b> Addons</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="interaction-models.html"><a href="interaction-models.html"><i class="fa fa-check"></i><b>12</b> Interaction Models</a>
<ul>
<li class="chapter" data-level="12.1" data-path="interaction-models.html"><a href="interaction-models.html#motivation"><i class="fa fa-check"></i><b>12.1</b> Motivation</a></li>
<li class="chapter" data-level="12.2" data-path="interaction-models.html"><a href="interaction-models.html#load-and-merge"><i class="fa fa-check"></i><b>12.2</b> Load and Merge</a></li>
<li class="chapter" data-level="12.3" data-path="interaction-models.html"><a href="interaction-models.html#data-manipulation"><i class="fa fa-check"></i><b>12.3</b> Data Manipulation</a></li>
<li class="chapter" data-level="12.4" data-path="interaction-models.html"><a href="interaction-models.html#simple-linear-model"><i class="fa fa-check"></i><b>12.4</b> Simple linear model</a></li>
<li class="chapter" data-level="12.5" data-path="interaction-models.html"><a href="interaction-models.html#multiple-regression-with-control"><i class="fa fa-check"></i><b>12.5</b> Multiple regression with control</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="interaction-models.html"><a href="interaction-models.html#regression-model"><i class="fa fa-check"></i><b>12.5.1</b> Regression model</a></li>
<li class="chapter" data-level="12.5.2" data-path="interaction-models.html"><a href="interaction-models.html#visualization-parallel-slopes"><i class="fa fa-check"></i><b>12.5.2</b> Visualization (parallel slopes)</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="interaction-models.html"><a href="interaction-models.html#multiple-regression-with-moderator"><i class="fa fa-check"></i><b>12.6</b> Multiple regression with moderator</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="interaction-models.html"><a href="interaction-models.html#interaction-dummy-dummy"><i class="fa fa-check"></i><b>12.6.1</b> Interaction (dummy * dummy)</a></li>
<li class="chapter" data-level="12.6.2" data-path="interaction-models.html"><a href="interaction-models.html#interaction-categorical-dummy"><i class="fa fa-check"></i><b>12.6.2</b> Interaction (categorical * dummy)</a></li>
<li class="chapter" data-level="12.6.3" data-path="interaction-models.html"><a href="interaction-models.html#interaction-continuous-dummy"><i class="fa fa-check"></i><b>12.6.3</b> Interaction (continuous * dummy)</a></li>
<li class="chapter" data-level="12.6.4" data-path="interaction-models.html"><a href="interaction-models.html#visualization-non-parallel-slopes"><i class="fa fa-check"></i><b>12.6.4</b> Visualization (non-parallel slopes)</a></li>
<li class="chapter" data-level="12.6.5" data-path="interaction-models.html"><a href="interaction-models.html#interaction-continuous-continuous"><i class="fa fa-check"></i><b>12.6.5</b> Interaction (continuous * continuous)</a></li>
<li class="chapter" data-level="12.6.6" data-path="interaction-models.html"><a href="interaction-models.html#visualization-non-parallel-slopes-1"><i class="fa fa-check"></i><b>12.6.6</b> Visualization (non-parallel slopes)</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="interaction-models.html"><a href="interaction-models.html#marginal-effects-1"><i class="fa fa-check"></i><b>12.7</b> Marginal Effects</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="interaction-models.html"><a href="interaction-models.html#marginal-effects-at-representatives-task"><i class="fa fa-check"></i><b>12.7.1</b> Marginal effects at representatives (TASK)</a></li>
<li class="chapter" data-level="12.7.2" data-path="interaction-models.html"><a href="interaction-models.html#marginal-effects-at-the-mean-task"><i class="fa fa-check"></i><b>12.7.2</b> Marginal effects at the mean (TASK)</a></li>
<li class="chapter" data-level="12.7.3" data-path="interaction-models.html"><a href="interaction-models.html#average-marginal-effects"><i class="fa fa-check"></i><b>12.7.3</b> Average marginal effects</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="fixed-effects.html"><a href="fixed-effects.html"><i class="fa fa-check"></i><b>13</b> Fixed effects</a>
<ul>
<li class="chapter" data-level="13.1" data-path="fixed-effects.html"><a href="fixed-effects.html#cross-sectional-data-2-pt"><i class="fa fa-check"></i><b>13.1</b> Cross-sectional Data (2 pt)</a></li>
<li class="chapter" data-level="13.2" data-path="fixed-effects.html"><a href="fixed-effects.html#panel-data-2-pt"><i class="fa fa-check"></i><b>13.2</b> Panel Data (2 pt)</a></li>
<li class="chapter" data-level="13.3" data-path="fixed-effects.html"><a href="fixed-effects.html#fixed-effects-regression"><i class="fa fa-check"></i><b>13.3</b> Fixed Effects Regression</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="fixed-effects.html"><a href="fixed-effects.html#first-difference-2-pt"><i class="fa fa-check"></i><b>13.3.1</b> First Difference (2 pt)</a></li>
<li class="chapter" data-level="13.3.2" data-path="fixed-effects.html"><a href="fixed-effects.html#within-estimator-2-pt"><i class="fa fa-check"></i><b>13.3.2</b> Within Estimator (2 pt)</a></li>
<li class="chapter" data-level="13.3.3" data-path="fixed-effects.html"><a href="fixed-effects.html#lsdv-1-pt"><i class="fa fa-check"></i><b>13.3.3</b> LSDV (1 pt)</a></li>
<li class="chapter" data-level="13.3.4" data-path="fixed-effects.html"><a href="fixed-effects.html#comparison-1-pt"><i class="fa fa-check"></i><b>13.3.4</b> Comparison (1 pt)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="first-difference.html"><a href="first-difference.html"><i class="fa fa-check"></i><b>14</b> First Difference</a>
<ul>
<li class="chapter" data-level="14.1" data-path="first-difference.html"><a href="first-difference.html#application-mincer-earnings-function"><i class="fa fa-check"></i><b>14.1</b> Application: Mincer earnings function</a></li>
<li class="chapter" data-level="14.2" data-path="first-difference.html"><a href="first-difference.html#data-management-4-pt"><i class="fa fa-check"></i><b>14.2</b> Data Management (4 pt)</a></li>
<li class="chapter" data-level="14.3" data-path="first-difference.html"><a href="first-difference.html#data-visualization-2-pt"><i class="fa fa-check"></i><b>14.3</b> Data Visualization (2 pt)</a></li>
<li class="chapter" data-level="14.4" data-path="first-difference.html"><a href="first-difference.html#data-modeling-2-pt"><i class="fa fa-check"></i><b>14.4</b> Data Modeling (2 pt)</a></li>
<li class="chapter" data-level="14.5" data-path="first-difference.html"><a href="first-difference.html#minimal-example-1"><i class="fa fa-check"></i><b>14.5</b> Minimal Example</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a>
<ul>
<li class="chapter" data-level="14.6" data-path="references.html"><a href="references.html#resources"><i class="fa fa-check"></i><b>14.6</b> Resources</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://marco-kuehne.com/" target="blank">Visit my personal page</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Becoming Fluent in Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<br>
<div class = infobox>
This book is <b>Work in Progress</b>. I appreciate your feedback to make the book better.
</div>
<div id="logistic-regression" class="section level1 hasAnchor" number="11">
<h1><span class="header-section-number">Chapter 11</span> Logistic Regression<a href="logistic-regression.html#logistic-regression" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Logistic regression is the appropriate regression analysis to conduct when the dependent variable is dichotomous (binary).</p>
<div id="think-inside-the-box" class="section level2 hasAnchor" number="11.1">
<h2><span class="header-section-number">11.1</span> Think inside the box<a href="logistic-regression.html#think-inside-the-box" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- https://www.javatpoint.com/linear-regression-vs-logistic-regression-in-machine-learning -->
<p>The table contains data on the relationship between <em>hours of study</em> and the <em>outcome of an exam</em> (pass/fail) sorted ascending for study hours. The <code>pass</code> outcome is coded <code>1</code> for "Yeah, I passed the exam" and <code>0</code> for "I'll be back".</p>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ea750f7342eb09a60b23" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ea750f7342eb09a60b23">{"x":{"filter":"none","vertical":false,"data":[["hours","pass"],["0.75","0"],["1.00","0"],["1.50","0"],["1.75","0"],["1.75","1"],["2.00","0"],["2.50","0"],["2.75","1"],["3.00","0"],["3.25","1"],["4.25","1"],["5.00","1"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>V1<\/th>\n      <th>V2<\/th>\n      <th>V3<\/th>\n      <th>V4<\/th>\n      <th>V5<\/th>\n      <th>V6<\/th>\n      <th>V7<\/th>\n      <th>V8<\/th>\n      <th>V9<\/th>\n      <th>V10<\/th>\n      <th>V11<\/th>\n      <th>V12<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"lengthChange":false,"pageLength":12,"dom":"t","rownames":false,"headerCallback":"function(thead, data, start, end, display){\n  $(thead).remove();\n}","columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\n}"}},"evals":["options.headerCallback","options.rowCallback"],"jsHooks":[]}</script>
<!-- Please do a side-by-side plot via `ggplot` and `gridExtra` package with `pass` on the y-axis and `hours` of study on the x-axis. Please fit a line though the left panel and a squiggle through the right panel. Use the layer `geom_smooth` with `method` option either `lm` (linear model) or `glm` (general linear model).  -->
<p>Linear regression is agnostic to the structure of the data. <code>lm()</code> fits a linear model to the data. Logistic regression acknowledges the floor and ceiling of values between 0 and 1. It squeezes the line to a squiggle inside the box. Well, the x-axis don't necessarily have this restriction.</p>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-170-1.png" width="576" style="display: block; margin: auto;" /></p>
<!-- Why do we take all the trouble doing the transformation from probability to log odds?  One reason is that  -->
<p>It is usually difficult to model a variable which has restricted range, such as probability. Get around the restricted range problem with a transformation.</p>
<div id="from-probability-to-odds" class="section level3 hasAnchor" number="11.1.1">
<h3><span class="header-section-number">11.1.1</span> From probability to odds<a href="logistic-regression.html#from-probability-to-odds" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- https://stats.idre.ucla.edu/other/mult-pkg/faq/general/faq-how-do-i-interpret-odds-ratios-in-logistic-regression/ -->
<!-- https://www.statisticshowto.com/log-odds/ -->
<!-- Odds and Log Odds: https://www.youtube.com/watch?v=ARfXDSkQf1Y -->
<p>Everybody has a good sense for probability. Not so for odds.</p>
<ul>
<li>Let’s say that the probability to pass the exam is <span class="math inline">\(0.8 = 80\%\)</span>.</li>
<li>Then the probability of failure is <span class="math inline">\(1 – 0.8 = 0.2 = 20\%\)</span>.</li>
</ul>
<p>The odds of passing the exam are defined as the ratio of the probabilities: <span class="math inline">\(\text{odds} = \frac{0.8}{0.2} = 4\)</span>. That is to say that the odds of passing are 4 to 1. Odds provide a measure of the likelihood of a particular outcome.</p>
<!-- Please do the following: -->
<!-- - Create a data.frame called `data`. -->
<!-- - Within `data`, create a sequence of values ranging from 0 to 1 in 0.01 steps and store it as `p` (probability). -->
<!-- - Within `data`, calculate the corresponding odds, store as `odds`.  -->
<!-- - Create a simple plot showing the relation between odds and probability using the `plotly` package.  -->
<p>Probability is naturally restricted between 0 and 1, what about odds?</p>
<p>Odds range from 0 to positive infinity.</p>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-fc923880880390aa68f5" style="width:576px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-fc923880880390aa68f5">{"x":{"visdat":{"33e0711832a":["function () ","plotlyVisDat"]},"cur_data":"33e0711832a","attrs":{"33e0711832a":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"p"},"yaxis":{"domain":[0,1],"automargin":true,"title":"odds"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0,0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0,0.0101010101010101,0.0204081632653061,0.0309278350515464,0.0416666666666667,0.0526315789473684,0.0638297872340425,0.0752688172043011,0.0869565217391304,0.0989010989010989,0.111111111111111,0.123595505617978,0.136363636363636,0.149425287356322,0.162790697674419,0.176470588235294,0.19047619047619,0.204819277108434,0.219512195121951,0.234567901234568,0.25,0.265822784810127,0.282051282051282,0.298701298701299,0.315789473684211,0.333333333333333,0.351351351351351,0.36986301369863,0.388888888888889,0.408450704225352,0.428571428571429,0.449275362318841,0.470588235294118,0.492537313432836,0.515151515151515,0.538461538461539,0.5625,0.587301587301587,0.612903225806452,0.639344262295082,0.666666666666667,0.694915254237288,0.724137931034483,0.754385964912281,0.785714285714286,0.818181818181818,0.851851851851852,0.886792452830189,0.923076923076923,0.96078431372549,1,1.04081632653061,1.08333333333333,1.12765957446809,1.17391304347826,1.22222222222222,1.27272727272727,1.32558139534884,1.38095238095238,1.4390243902439,1.5,1.56410256410256,1.63157894736842,1.7027027027027,1.77777777777778,1.85714285714286,1.94117647058824,2.03030303030303,2.125,2.2258064516129,2.33333333333333,2.44827586206897,2.57142857142857,2.7037037037037,2.84615384615385,3,3.16666666666667,3.34782608695652,3.54545454545455,3.76190476190476,4,4.26315789473684,4.55555555555556,4.88235294117647,5.25,5.66666666666667,6.14285714285714,6.69230769230769,7.33333333333333,8.09090909090909,9,10.1111111111111,11.5,13.2857142857143,15.6666666666667,19,24,32.3333333333333,49,98.9999999999999,null],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The transformation from probability to odds is a monotonic transformation, meaning the odds increase as the probability increases or vice versa.</p>
</div>
<div id="from-odds-to-log-of-odds" class="section level3 hasAnchor" number="11.1.2">
<h3><span class="header-section-number">11.1.2</span> From odds to log of odds<a href="logistic-regression.html#from-odds-to-log-of-odds" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- Please calculate the log of odds, store it as `logodds` (can be another object). Create a side-by-side graph showing the relation between probability and odds and probability and logodds with the `plotly` package.  -->
<p>The <code>log()</code> of values between 0 and 1 is negative, above 1 positive.</p>
<p>Logodds range between negative and positive infinity. Range problem solved.</p>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-682eb995ac0dd56cccc2" style="width:576px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-682eb995ac0dd56cccc2">{"x":{"data":[{"x":[0,0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[0,0.0101010101010101,0.0204081632653061,0.0309278350515464,0.0416666666666667,0.0526315789473684,0.0638297872340425,0.0752688172043011,0.0869565217391304,0.0989010989010989,0.111111111111111,0.123595505617978,0.136363636363636,0.149425287356322,0.162790697674419,0.176470588235294,0.19047619047619,0.204819277108434,0.219512195121951,0.234567901234568,0.25,0.265822784810127,0.282051282051282,0.298701298701299,0.315789473684211,0.333333333333333,0.351351351351351,0.36986301369863,0.388888888888889,0.408450704225352,0.428571428571429,0.449275362318841,0.470588235294118,0.492537313432836,0.515151515151515,0.538461538461539,0.5625,0.587301587301587,0.612903225806452,0.639344262295082,0.666666666666667,0.694915254237288,0.724137931034483,0.754385964912281,0.785714285714286,0.818181818181818,0.851851851851852,0.886792452830189,0.923076923076923,0.96078431372549,1,1.04081632653061,1.08333333333333,1.12765957446809,1.17391304347826,1.22222222222222,1.27272727272727,1.32558139534884,1.38095238095238,1.4390243902439,1.5,1.56410256410256,1.63157894736842,1.7027027027027,1.77777777777778,1.85714285714286,1.94117647058824,2.03030303030303,2.125,2.2258064516129,2.33333333333333,2.44827586206897,2.57142857142857,2.7037037037037,2.84615384615385,3,3.16666666666667,3.34782608695652,3.54545454545455,3.76190476190476,4,4.26315789473684,4.55555555555556,4.88235294117647,5.25,5.66666666666667,6.14285714285714,6.69230769230769,7.33333333333333,8.09090909090909,9,10.1111111111111,11.5,13.2857142857143,15.6666666666667,19,24,32.3333333333333,49,98.9999999999999,null],"type":"scatter","mode":"lines","name":"odds","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99,1],"y":[null,-4.59511985013459,-3.89182029811063,-3.47609868983527,-3.17805383034795,-2.94443897916644,-2.75153531304195,-2.58668934409794,-2.4423470353692,-2.31363492918063,-2.19722457733622,-2.09074109693377,-1.99243016469021,-1.90095876119305,-1.81528996663825,-1.73460105538811,-1.65822807660353,-1.58562726374038,-1.51634748936809,-1.450010175506,-1.38629436111989,-1.3249254147436,-1.26566637333128,-1.20831120592453,-1.15267950993839,-1.09861228866811,-1.04596855518269,-0.994622575144062,-0.944461608840851,-0.895384047054841,-0.847297860387204,-0.800119300112113,-0.75377180237638,-0.708185057924486,-0.663294217410264,-0.619039208406223,-0.575364144903562,-0.532216813747308,-0.489548225318706,-0.447312218043665,-0.405465108108164,-0.363965377201412,-0.322773392263051,-0.281851152140988,-0.241162056816888,-0.200670695462151,-0.160342650075179,-0.120144311842063,-0.0800427076735365,-0.0400053346136992,0,0.0400053346136992,0.0800427076735366,0.120144311842063,0.160342650075179,0.200670695462151,0.241162056816888,0.281851152140988,0.322773392263051,0.363965377201411,0.405465108108164,0.447312218043665,0.489548225318706,0.532216813747308,0.575364144903562,0.619039208406224,0.663294217410264,0.708185057924486,0.75377180237638,0.800119300112113,0.847297860387204,0.895384047054841,0.944461608840851,0.994622575144062,1.04596855518269,1.09861228866811,1.15267950993839,1.20831120592453,1.26566637333128,1.3249254147436,1.38629436111989,1.450010175506,1.51634748936809,1.58562726374038,1.65822807660353,1.73460105538811,1.81528996663825,1.90095876119305,1.99243016469021,2.09074109693377,2.19722457733622,2.31363492918063,2.44234703536921,2.58668934409794,2.75153531304195,2.94443897916644,3.17805383034794,3.47609868983527,3.89182029811063,4.59511985013459,null],"type":"scatter","mode":"lines","name":"logodds","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,0.48],"automargin":true,"anchor":"y"},"xaxis2":{"domain":[0.52,1],"automargin":true,"anchor":"y2"},"yaxis2":{"domain":[0,1],"automargin":true,"anchor":"x2"},"yaxis":{"domain":[0,1],"automargin":true,"anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true},"attrs":{"33e057677b95":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","name":{},"inherit":true},"33e06b9754ae":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","name":{},"inherit":true}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Imagine you flip the axes, doesn't this look like the initial S curve we were looking for?
<!-- https://www.graphpad.com/guides/prism/latest/curve-fitting/reg_simple_logistic_logodds.htm -->
<!-- https://www.graphpad.com/guides/prism/latest/curve-fitting/reg_log_or_ln.htm -->
<!-- https://www.graphpad.com/guides/prism/latest/curve-fitting/reg_simple_logistic_coefficients.htm -->
<!-- http://faculty.cas.usf.edu/mbrannick/regression/Logistic.html -->
<!-- Logistic regression estimation is based on the concept of Maximum Likelihood estimation.  --></p>
</div>
</div>
<div id="application-titanic-survival" class="section level2 hasAnchor" number="11.2">
<h2><span class="header-section-number">11.2</span> Application: Titanic Survival<a href="logistic-regression.html#application-titanic-survival" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div style="background-image:url("images/titanic.png"); opacity:0.5;">

> The sinking of the Titanic is one of the most infamous shipwrecks in history.
>
> On April 15, 1912, during her maiden voyage, the widely considered “unsinkable” RMS Titanic sank after colliding with an iceberg. Unfortunately, there weren’t enough lifeboats for everyone onboard, resulting in the death of 1502 out of 2224 passengers and crew.
>
> While there was some element of luck involved in surviving, it seems some groups of people were more likely to survive than others.
> <footer>--- [Kaggle Competition](https://www.kaggle.com/competitions/titanic/overview)</footer>

</div>
<div id="the-data" class="section level4 hasAnchor" number="11.2.0.1">
<h4><span class="header-section-number">11.2.0.1</span> The Data<a href="logistic-regression.html#the-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<!-- Please register at Kaggle. Go to <https://www.kaggle.com/c/titanic/data> and download the datasets (`train.csv`, `test.csv`, `gender_submission.csv`). Put them in your working directory. The following merge commands should work.  -->
<p>Load a real comprehensive dataset on Titanic.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="logistic-regression.html#cb105-1" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/MarcoKuehne/marcokuehne.github.io/main/data/titanic.csv&quot;</span>)</span>
<span id="cb105-2"><a href="logistic-regression.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="co">#titanic &lt;- read.csv(&quot;./data/titanic.csv&quot;)</span></span>
<span id="cb105-3"><a href="logistic-regression.html#cb105-3" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> titanic[,<span class="sc">-</span><span class="dv">1</span>]</span></code></pre></div>
<p>Let's check the number of missing values per variable:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="logistic-regression.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="do">## missings per variable n = 1309</span></span>
<span id="cb106-2"><a href="logistic-regression.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="at">X =</span> titanic, <span class="at">FUN =</span> <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x)))</span>
<span id="cb106-3"><a href="logistic-regression.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; PassengerId      Pclass        Name         Sex         Age       SibSp </span></span>
<span id="cb106-4"><a href="logistic-regression.html#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           0           0           0           0         263           0 </span></span>
<span id="cb106-5"><a href="logistic-regression.html#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       Parch      Ticket        Fare       Cabin    Embarked    Survived </span></span>
<span id="cb106-6"><a href="logistic-regression.html#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           0           0           1        1014           2           0</span></span></code></pre></div>
<p>There are 2 missing values in <code>Embarked</code> and 263 in <code>Age</code>. The most missings fall upon <code>Cabin</code> though. Cabin information is not a very useful predictor for survival, thus we can remove this information for our analysis.</p>
<!-- Remove columns `PassengerId`, `Name` and `Ticket`. -->
<p>Conduct a <em>complete case analysis</em>. The dataset should look like this (n = 1043):</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="logistic-regression.html#cb107-1" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> titanic <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span>Cabin)</span>
<span id="cb107-2"><a href="logistic-regression.html#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="logistic-regression.html#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="do">## ## n = 1043</span></span>
<span id="cb107-4"><a href="logistic-regression.html#cb107-4" aria-hidden="true" tabindex="-1"></a><span class="do">## titanic &lt;- titanic %&gt;%</span></span>
<span id="cb107-5"><a href="logistic-regression.html#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="do">##   filter(Age &gt; 0)</span></span>
<span id="cb107-6"><a href="logistic-regression.html#cb107-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-7"><a href="logistic-regression.html#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="do">## complete cases n = 1043</span></span>
<span id="cb107-8"><a href="logistic-regression.html#cb107-8" aria-hidden="true" tabindex="-1"></a>titanic <span class="ot">&lt;-</span> titanic[<span class="fu">complete.cases</span>(titanic), ]</span>
<span id="cb107-9"><a href="logistic-regression.html#cb107-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(titanic)</span>
<span id="cb107-10"><a href="logistic-regression.html#cb107-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Rows: 1,043</span></span>
<span id="cb107-11"><a href="logistic-regression.html#cb107-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Columns: 11</span></span>
<span id="cb107-12"><a href="logistic-regression.html#cb107-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ PassengerId &lt;int&gt; 892, 893, 894, 895, 896, 897, 898, 899, 900, 901, 903, 904…</span></span>
<span id="cb107-13"><a href="logistic-regression.html#cb107-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Pclass      &lt;int&gt; 3, 3, 2, 3, 3, 3, 3, 2, 3, 3, 1, 1, 2, 1, 2, 2, 3, 3, 3, 1…</span></span>
<span id="cb107-14"><a href="logistic-regression.html#cb107-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Name        &lt;chr&gt; &quot;Kelly, Mr. James&quot;, &quot;Wilkes, Mrs. James (Ellen Needs)&quot;, &quot;M…</span></span>
<span id="cb107-15"><a href="logistic-regression.html#cb107-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Sex         &lt;chr&gt; &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;femal…</span></span>
<span id="cb107-16"><a href="logistic-regression.html#cb107-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Age         &lt;dbl&gt; 34.5, 47.0, 62.0, 27.0, 22.0, 14.0, 30.0, 26.0, 18.0, 21.0…</span></span>
<span id="cb107-17"><a href="logistic-regression.html#cb107-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ SibSp       &lt;int&gt; 0, 1, 0, 0, 1, 0, 0, 1, 0, 2, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1…</span></span>
<span id="cb107-18"><a href="logistic-regression.html#cb107-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Parch       &lt;int&gt; 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span></span>
<span id="cb107-19"><a href="logistic-regression.html#cb107-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Ticket      &lt;chr&gt; &quot;330911&quot;, &quot;363272&quot;, &quot;240276&quot;, &quot;315154&quot;, &quot;3101298&quot;, &quot;7538&quot;,…</span></span>
<span id="cb107-20"><a href="logistic-regression.html#cb107-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Fare        &lt;dbl&gt; 7.8292, 7.0000, 9.6875, 8.6625, 12.2875, 9.2250, 7.6292, 2…</span></span>
<span id="cb107-21"><a href="logistic-regression.html#cb107-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Embarked    &lt;chr&gt; &quot;Q&quot;, &quot;S&quot;, &quot;Q&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;, &quot;Q&quot;, &quot;S&quot;, &quot;C&quot;, &quot;S&quot;, &quot;S&quot;, &quot;S&quot;…</span></span>
<span id="cb107-22"><a href="logistic-regression.html#cb107-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $ Survived    &lt;int&gt; 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0…</span></span></code></pre></div>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="logistic-regression.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="do">## estimation</span></span>
<span id="cb108-2"><a href="logistic-regression.html#cb108-2" aria-hidden="true" tabindex="-1"></a>titanic_estimation <span class="ot">&lt;-</span> titanic <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(PassengerId, Name, Ticket))</span></code></pre></div>
</div>
<div id="no-predictor-variables-1-pt" class="section level4 hasAnchor" number="11.2.0.2">
<h4><span class="header-section-number">11.2.0.2</span> No Predictor Variables (1 pt)<a href="logistic-regression.html#no-predictor-variables-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There is no predictor, only the intercept (empty model):</p>
<p><span class="math display">\[logit (p) = \beta_0\]</span></p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="logistic-regression.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb109-2"><a href="logistic-regression.html#cb109-2" aria-hidden="true" tabindex="-1"></a>logistic0 <span class="ot">=</span> <span class="fu">glm</span>(Survived <span class="sc">~</span> <span class="dv">1</span>, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">&#39;logit&#39;</span>), <span class="at">data =</span> titanic)</span>
<span id="cb109-3"><a href="logistic-regression.html#cb109-3" aria-hidden="true" tabindex="-1"></a>logistic0</span>
<span id="cb109-4"><a href="logistic-regression.html#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb109-5"><a href="logistic-regression.html#cb109-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:  glm(formula = Survived ~ 1, family = binomial(link = &quot;logit&quot;), </span></span>
<span id="cb109-6"><a href="logistic-regression.html#cb109-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     data = titanic)</span></span>
<span id="cb109-7"><a href="logistic-regression.html#cb109-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb109-8"><a href="logistic-regression.html#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb109-9"><a href="logistic-regression.html#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)  </span></span>
<span id="cb109-10"><a href="logistic-regression.html#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     -0.4143  </span></span>
<span id="cb109-11"><a href="logistic-regression.html#cb109-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb109-12"><a href="logistic-regression.html#cb109-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Degrees of Freedom: 1042 Total (i.e. Null);  1042 Residual</span></span>
<span id="cb109-13"><a href="logistic-regression.html#cb109-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Null Deviance:       1402 </span></span>
<span id="cb109-14"><a href="logistic-regression.html#cb109-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residual Deviance: 1402  AIC: 1404</span></span></code></pre></div>
<!-- In all logistic regression models regression coefficients are reported in log odds.  -->
<!-- This means \( log (1/(1-p)) = \) -0.41.  -->
<p>Please recalculate the intercept from model <code>logistic0</code>, i.e. the value -0.4142616.</p>
<p>Use the probability of survival from <code>titanic</code> data (check the count of <code>titanic$Survived</code>). Store and show the probability of survival in a vector named <code>survive_p</code>. Store and show the odds of survival as <code>survive_odds</code>. Calculate and store the logodds of survival as <code>survive_logodds</code> (this should be equivalent to the empty model intercept).</p>
<!-- From probability, calculate odds and logodds (this should be equivalent to the empty model intercept).  -->
<!-- Let's take a look at the frequency table for survival and derive this value step by step: -->
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="logistic-regression.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="do">##table(titanic$Survived)</span></span>
<span id="cb110-2"><a href="logistic-regression.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="do">##table(titanic$Survived)[1]</span></span>
<span id="cb110-3"><a href="logistic-regression.html#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="do">##table(titanic$Survived)[2]</span></span>
<span id="cb110-4"><a href="logistic-regression.html#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="logistic-regression.html#cb110-5" aria-hidden="true" tabindex="-1"></a>survive_p <span class="ot">&lt;-</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived)[<span class="dv">2</span>]<span class="sc">/</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived)[<span class="dv">2</span>]<span class="sc">+</span><span class="fu">table</span>(titanic<span class="sc">$</span>Survived)[<span class="dv">1</span>]) </span>
<span id="cb110-6"><a href="logistic-regression.html#cb110-6" aria-hidden="true" tabindex="-1"></a>survive_odds <span class="ot">&lt;-</span> survive_p<span class="sc">/</span>(<span class="dv">1</span><span class="sc">-</span>survive_p)</span>
<span id="cb110-7"><a href="logistic-regression.html#cb110-7" aria-hidden="true" tabindex="-1"></a>survive_logodds <span class="ot">&lt;-</span> <span class="fu">log</span>(survive_odds)</span>
<span id="cb110-8"><a href="logistic-regression.html#cb110-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-9"><a href="logistic-regression.html#cb110-9" aria-hidden="true" tabindex="-1"></a><span class="do">## ## 38.9% survived</span></span>
<span id="cb110-10"><a href="logistic-regression.html#cb110-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 398/(398+623)</span></span>
<span id="cb110-11"><a href="logistic-regression.html#cb110-11" aria-hidden="true" tabindex="-1"></a><span class="do">## ## The odds are</span></span>
<span id="cb110-12"><a href="logistic-regression.html#cb110-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 0.3898139/ (1-0.3898139)</span></span>
<span id="cb110-13"><a href="logistic-regression.html#cb110-13" aria-hidden="true" tabindex="-1"></a><span class="do">## ## 0.6229509 and the log of the odds (logit) is</span></span>
<span id="cb110-14"><a href="logistic-regression.html#cb110-14" aria-hidden="true" tabindex="-1"></a><span class="do">## log(0.6388443)</span></span>
<span id="cb110-15"><a href="logistic-regression.html#cb110-15" aria-hidden="true" tabindex="-1"></a><span class="do">## ## -0.4480945, exactly what the regression intercept is</span></span></code></pre></div>
</div>
<div id="single-dichotomous-predictor-1-pt" class="section level4 hasAnchor" number="11.2.0.3">
<h4><span class="header-section-number">11.2.0.3</span> Single Dichotomous Predictor (1 pt)<a href="logistic-regression.html#single-dichotomous-predictor-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now include gender as an explanatory variable. We expect being male reduces the probability of surviving.</p>
<p><span class="math display">\[logit (p) = \beta_0 + \beta_1 \cdot sex\]</span></p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="logistic-regression.html#cb111-1" aria-hidden="true" tabindex="-1"></a>logistic1 <span class="ot">=</span> <span class="fu">glm</span>(Survived <span class="sc">~</span> Sex, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">&#39;logit&#39;</span>), <span class="at">data =</span> titanic)</span>
<span id="cb111-2"><a href="logistic-regression.html#cb111-2" aria-hidden="true" tabindex="-1"></a>logistic1</span>
<span id="cb111-3"><a href="logistic-regression.html#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb111-4"><a href="logistic-regression.html#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:  glm(formula = Survived ~ Sex, family = binomial(link = &quot;logit&quot;), </span></span>
<span id="cb111-5"><a href="logistic-regression.html#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     data = titanic)</span></span>
<span id="cb111-6"><a href="logistic-regression.html#cb111-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb111-7"><a href="logistic-regression.html#cb111-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb111-8"><a href="logistic-regression.html#cb111-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)      Sexmale  </span></span>
<span id="cb111-9"><a href="logistic-regression.html#cb111-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       1.616       -3.418  </span></span>
<span id="cb111-10"><a href="logistic-regression.html#cb111-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb111-11"><a href="logistic-regression.html#cb111-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Degrees of Freedom: 1042 Total (i.e. Null);  1041 Residual</span></span>
<span id="cb111-12"><a href="logistic-regression.html#cb111-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Null Deviance:       1402 </span></span>
<span id="cb111-13"><a href="logistic-regression.html#cb111-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residual Deviance: 882.6     AIC: 886.6</span></span></code></pre></div>
<p>The dummy variable behaves as in the linear model:</p>
<ul>
<li>The logodds of survival for men are: -1.8024548</li>
<li>The logodds of survival for women are: 1.6156685</li>
</ul>
<p>Please calculate the logodds for men based on the frequencies of male and female survival:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="logistic-regression.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)</span>
<span id="cb112-2"><a href="logistic-regression.html#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    </span></span>
<span id="cb112-3"><a href="logistic-regression.html#cb112-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     female male</span></span>
<span id="cb112-4"><a href="logistic-regression.html#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   0     64  564</span></span>
<span id="cb112-5"><a href="logistic-regression.html#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1    322   93</span></span></code></pre></div>
<p>Please use a programmatic approach in R to access those values. All calculations and results need to be shown.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="logistic-regression.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="do">## odds ratio: odds for female to the odds for male: 2.876543/0.2329059 = 12.35067 == (233*468)/(81*109)</span></span>
<span id="cb113-2"><a href="logistic-regression.html#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="do">## the odds for females are about 1235% higher than the odds for males</span></span>
<span id="cb113-3"><a href="logistic-regression.html#cb113-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-4"><a href="logistic-regression.html#cb113-4" aria-hidden="true" tabindex="-1"></a><span class="do">## odds ratio: odds for male to the odds for female: 0.2329059/2.876543 = 0.08096729</span></span>
<span id="cb113-5"><a href="logistic-regression.html#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="do">## the odds for male are about 8% of the odds for females</span></span>
<span id="cb113-6"><a href="logistic-regression.html#cb113-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-7"><a href="logistic-regression.html#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="do">## The coefficient for female is the log of odds ratio between the female group and male group: log(12.35067) = 2.51371</span></span>
<span id="cb113-8"><a href="logistic-regression.html#cb113-8" aria-hidden="true" tabindex="-1"></a><span class="do">## The coefficient for male is the log of odds ratio between the male group and female group: log(0.08096729) = -2.51371</span></span>
<span id="cb113-9"><a href="logistic-regression.html#cb113-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-10"><a href="logistic-regression.html#cb113-10" aria-hidden="true" tabindex="-1"></a><span class="do">###### titanic full data</span></span>
<span id="cb113-11"><a href="logistic-regression.html#cb113-11" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)</span>
<span id="cb113-12"><a href="logistic-regression.html#cb113-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-13"><a href="logistic-regression.html#cb113-13" aria-hidden="true" tabindex="-1"></a><span class="do">## male survival: (~ 14%)</span></span>
<span id="cb113-14"><a href="logistic-regression.html#cb113-14" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>]<span class="sc">/</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">+</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">2</span>])</span>
<span id="cb113-15"><a href="logistic-regression.html#cb113-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-16"><a href="logistic-regression.html#cb113-16" aria-hidden="true" tabindex="-1"></a><span class="do">## ## female survival: (~ 83%)</span></span>
<span id="cb113-17"><a href="logistic-regression.html#cb113-17" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>]<span class="sc">/</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">+</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">1</span>])</span>
<span id="cb113-18"><a href="logistic-regression.html#cb113-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-19"><a href="logistic-regression.html#cb113-19" aria-hidden="true" tabindex="-1"></a><span class="do">## male odds:</span></span>
<span id="cb113-20"><a href="logistic-regression.html#cb113-20" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">2</span>]</span>
<span id="cb113-21"><a href="logistic-regression.html#cb113-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-22"><a href="logistic-regression.html#cb113-22" aria-hidden="true" tabindex="-1"></a><span class="do">## female odds:</span></span>
<span id="cb113-23"><a href="logistic-regression.html#cb113-23" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">1</span>]</span>
<span id="cb113-24"><a href="logistic-regression.html#cb113-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-25"><a href="logistic-regression.html#cb113-25" aria-hidden="true" tabindex="-1"></a><span class="do">## logodds male</span></span>
<span id="cb113-26"><a href="logistic-regression.html#cb113-26" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">2</span>])</span>
<span id="cb113-27"><a href="logistic-regression.html#cb113-27" aria-hidden="true" tabindex="-1"></a><span class="do">## logodds female</span></span>
<span id="cb113-28"><a href="logistic-regression.html#cb113-28" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">1</span>])</span>
<span id="cb113-29"><a href="logistic-regression.html#cb113-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-30"><a href="logistic-regression.html#cb113-30" aria-hidden="true" tabindex="-1"></a><span class="do">## odds ratio: odds for male to the odds for female: 0.03277389</span></span>
<span id="cb113-31"><a href="logistic-regression.html#cb113-31" aria-hidden="true" tabindex="-1"></a>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">2</span>])<span class="sc">/</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">1</span>])</span>
<span id="cb113-32"><a href="logistic-regression.html#cb113-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-33"><a href="logistic-regression.html#cb113-33" aria-hidden="true" tabindex="-1"></a><span class="do">## odds ratio: odds for female to the odds for male: 30.5121</span></span>
<span id="cb113-34"><a href="logistic-regression.html#cb113-34" aria-hidden="true" tabindex="-1"></a>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">1</span>])<span class="sc">/</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">2</span>])</span></code></pre></div>
<!-- The coefficient for male is the log of odds ratio between the male group and female group: -3.465955 -->
<!--  log(0.03124315) -->
<!-- https://data.library.virginia.edu/visualizing-the-effects-of-logistic-regression/ -->
</div>
<div id="effect-plot-1-pt" class="section level4 hasAnchor" number="11.2.0.4">
<h4><span class="header-section-number">11.2.0.4</span> Effect plot (1 pt)<a href="logistic-regression.html#effect-plot-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Use a nested version of <code>plot()</code> on <code>allEffects()</code> on the <code>logistic1</code> model (<code>effects</code> package).</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="logistic-regression.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span>
<span id="cb114-2"><a href="logistic-regression.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">allEffects</span>(logistic1))</span></code></pre></div>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-183-1.png" width="576" /></p>
<p>What kind of effect does this plot show? And how did the effects package make those estimates? Inverse the logit function on the logodds estimates. Define the function <code>invLogit()</code>:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="logistic-regression.html#cb115-1" aria-hidden="true" tabindex="-1"></a>invLogit <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">exp</span>(x)<span class="sc">/</span>(<span class="dv">1</span> <span class="sc">+</span> <span class="fu">exp</span>(x))</span></code></pre></div>
<p>Apply <code>invLogit()</code> on the logodds for males. Show that the results are equivalent to the numbers from the effect plot.</p>
<!-- the results of the allEffects() function to an object and investigating. When we do it for this model we get a list object with two elements, one for each graph. Within each list element are several values used to create the effect plots. The model.matrix element for the first list element contains the independent variables used in generating the predictions for each sex. -->
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="logistic-regression.html#cb116-1" aria-hidden="true" tabindex="-1"></a>invLogit <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">exp</span>(x)<span class="sc">/</span>(<span class="dv">1</span> <span class="sc">+</span> <span class="fu">exp</span>(x))</span>
<span id="cb116-2"><a href="logistic-regression.html#cb116-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-3"><a href="logistic-regression.html#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="do">## logodds male</span></span>
<span id="cb116-4"><a href="logistic-regression.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="fu">invLogit</span>(<span class="fu">log</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">2</span>]))</span>
<span id="cb116-5"><a href="logistic-regression.html#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="do">## logodds female</span></span>
<span id="cb116-6"><a href="logistic-regression.html#cb116-6" aria-hidden="true" tabindex="-1"></a><span class="fu">invLogit</span>(<span class="fu">log</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">/</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)[<span class="dv">1</span>,<span class="dv">1</span>]))</span></code></pre></div>
<!-- ##https://stats.stackexchange.com/questions/181996/logistic-regression-interpretation -->
<!-- ## First off, you need to understand that, because the "regression function" is S-shaped, -->
<!-- ## the first derivative is not constant. You therefore need to calculate the marginal effect at a certain point. -->
<!-- ## Comparatively, in a linear regression, we do not have to care about that since the slope of a line -->
<!-- ## is the same everywhere on this line. You have different possibilities: calculate the marginal effect at the mean -->
<!-- ## (in general the default option), at the median, or at particular data points. -->
<!-- ##https://www.displayr.com/how-to-interpret-logistic-regression-coefficients/ -->
<!-- ## In some areas it is common to use odds rather than probabilities when thinking about risk -->
<!-- ## (e.g., gambling, medical statistics). If you are working in one of these areas, -->
<!-- ## it is often necessary to interpret and present coefficients as odds ratios. If you are -->
<!-- ## not in one of these areas, there is no need to read the rest of this post, as the -->
<!-- ## concept of odds ratios is of sociological rather than logical importance (i.e., using -->
<!-- ## odds ratios is not particularly useful except when communicating with people that require them). -->
</div>
<div id="chi-square-test-for-independence-1-pt" class="section level4 hasAnchor" number="11.2.0.5">
<h4><span class="header-section-number">11.2.0.5</span> Chi Square Test For Independence (1 pt)<a href="logistic-regression.html#chi-square-test-for-independence-1-pt" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>epitab</code> package can improve the contingency tables of survival by gender. From looking at this table, a lot men died (n = 564) and a lot women survived (n = 322). Those who survied have been about 77% female, those who deceased are about 90% male.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="logistic-regression.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(epitab)</span>
<span id="cb117-2"><a href="logistic-regression.html#cb117-2" aria-hidden="true" tabindex="-1"></a>titanic_fct <span class="ot">&lt;-</span> titanic <span class="sc">%&gt;%</span></span>
<span id="cb117-3"><a href="logistic-regression.html#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Survived_fct =</span> <span class="fu">factor</span>(Survived))</span>
<span id="cb117-4"><a href="logistic-regression.html#cb117-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-5"><a href="logistic-regression.html#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="do">## levels = c(&quot;Deceased&quot;, &quot;Survived&quot;)</span></span>
<span id="cb117-6"><a href="logistic-regression.html#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="do">## levels(titanic_fct$Survived_fct) </span></span>
<span id="cb117-7"><a href="logistic-regression.html#cb117-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-8"><a href="logistic-regression.html#cb117-8" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">contingency_table</span>(<span class="fu">list</span>(<span class="st">&quot;Sex&quot;</span><span class="ot">=</span><span class="st">&#39;Sex&#39;</span>),</span>
<span id="cb117-9"><a href="logistic-regression.html#cb117-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">outcomes=</span><span class="fu">list</span>(<span class="st">&#39;Survival&#39;</span><span class="ot">=</span><span class="st">&#39;Survived_fct&#39;</span>), <span class="do">## need to be factors</span></span>
<span id="cb117-10"><a href="logistic-regression.html#cb117-10" aria-hidden="true" tabindex="-1"></a>                         <span class="at">crosstab_funcs=</span><span class="fu">list</span>(<span class="fu">freq</span>()),</span>
<span id="cb117-11"><a href="logistic-regression.html#cb117-11" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data=</span>titanic_fct)</span>
<span id="cb117-12"><a href="logistic-regression.html#cb117-12" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb117-13"><a href="logistic-regression.html#cb117-13" aria-hidden="true" tabindex="-1"></a><span class="co">#neat_table(tab, format = c(&quot;html&quot;))</span></span></code></pre></div>
<p>The <span class="math inline">\(\chi^2\)</span> test is an alternative to test the relationship between two categorical variables.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="logistic-regression.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)</span>
<span id="cb118-2"><a href="logistic-regression.html#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb118-3"><a href="logistic-regression.html#cb118-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction</span></span>
<span id="cb118-4"><a href="logistic-regression.html#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb118-5"><a href="logistic-regression.html#cb118-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; data:  titanic$Survived and titanic$Sex</span></span>
<span id="cb118-6"><a href="logistic-regression.html#cb118-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X-squared = 484.02, df = 1, p-value &lt; 2.2e-16</span></span></code></pre></div>
<p>Please recalculate the test statistic, i.e. the value:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="logistic-regression.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)<span class="sc">$</span>statistic</span>
<span id="cb119-2"><a href="logistic-regression.html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; X-squared </span></span>
<span id="cb119-3"><a href="logistic-regression.html#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  484.0245</span></span></code></pre></div>
<p>from the observed values. The formula for <span class="math inline">\(X^2\)</span> is:
<!-- , calculate row and column sums and from here the expected absolute frequency per cell. --></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="logistic-regression.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex))</span></code></pre></div>
<p><span class="math inline">\(X^2 = \sum_i \frac{(O_i-E_i)^2}{E_i}\)</span>,</p>
<p>where <span class="math inline">\(O_i\)</span> is the observed frequency and <span class="math inline">\(E_i\)</span> is the expected frequency. The following steps are suggested.</p>
<!-- Luckily, there is a package and a function to simplify this step.  -->
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="logistic-regression.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 1: Store the observed values in a table</span></span>
<span id="cb121-2"><a href="logistic-regression.html#cb121-2" aria-hidden="true" tabindex="-1"></a>tab_obs <span class="ot">&lt;-</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)</span>
<span id="cb121-3"><a href="logistic-regression.html#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="logistic-regression.html#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 2: Calculate expected absolute frequency</span></span>
<span id="cb121-5"><a href="logistic-regression.html#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;DescTools&quot;</span>)</span>
<span id="cb121-6"><a href="logistic-regression.html#cb121-6" aria-hidden="true" tabindex="-1"></a>tab_exp <span class="ot">&lt;-</span> <span class="fu">ExpFreq</span>(XYZ, <span class="at">freq =</span><span class="st">&quot;abs&quot;</span>)</span>
<span id="cb121-7"><a href="logistic-regression.html#cb121-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-8"><a href="logistic-regression.html#cb121-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 3: Subtract the expected value from the observed value (and square differences)</span></span>
<span id="cb121-9"><a href="logistic-regression.html#cb121-9" aria-hidden="true" tabindex="-1"></a><span class="do">## ...</span></span>
<span id="cb121-10"><a href="logistic-regression.html#cb121-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-11"><a href="logistic-regression.html#cb121-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 4: Divide by expected values</span></span>
<span id="cb121-12"><a href="logistic-regression.html#cb121-12" aria-hidden="true" tabindex="-1"></a><span class="do">## ... </span></span>
<span id="cb121-13"><a href="logistic-regression.html#cb121-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-14"><a href="logistic-regression.html#cb121-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 5: Sum up all</span></span>
<span id="cb121-15"><a href="logistic-regression.html#cb121-15" aria-hidden="true" tabindex="-1"></a><span class="do">## ... </span></span></code></pre></div>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="logistic-regression.html#cb122-1" aria-hidden="true" tabindex="-1"></a>tab_margins <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex))</span>
<span id="cb122-2"><a href="logistic-regression.html#cb122-2" aria-hidden="true" tabindex="-1"></a>tab_obs <span class="ot">&lt;-</span> <span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex)</span>
<span id="cb122-3"><a href="logistic-regression.html#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="logistic-regression.html#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 1: Expected absolute frequency</span></span>
<span id="cb122-5"><a href="logistic-regression.html#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;DescTools&quot;</span>)</span>
<span id="cb122-6"><a href="logistic-regression.html#cb122-6" aria-hidden="true" tabindex="-1"></a>tab_exp <span class="ot">&lt;-</span> <span class="fu">ExpFreq</span>(<span class="fu">table</span>(titanic<span class="sc">$</span>Survived, titanic<span class="sc">$</span>Sex), <span class="at">freq =</span><span class="st">&quot;abs&quot;</span>)</span>
<span id="cb122-7"><a href="logistic-regression.html#cb122-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-8"><a href="logistic-regression.html#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 2: Subtract the expected value from the observed value (and square differences)</span></span>
<span id="cb122-9"><a href="logistic-regression.html#cb122-9" aria-hidden="true" tabindex="-1"></a>(tab_obs<span class="sc">-</span>tab_exp)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb122-10"><a href="logistic-regression.html#cb122-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-11"><a href="logistic-regression.html#cb122-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 3: Divide by expected values</span></span>
<span id="cb122-12"><a href="logistic-regression.html#cb122-12" aria-hidden="true" tabindex="-1"></a>(tab_obs<span class="sc">-</span>tab_exp)<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>tab_exp</span>
<span id="cb122-13"><a href="logistic-regression.html#cb122-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-14"><a href="logistic-regression.html#cb122-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Step 4: Sum up all</span></span>
<span id="cb122-15"><a href="logistic-regression.html#cb122-15" aria-hidden="true" tabindex="-1"></a>tab_temp <span class="ot">&lt;-</span> (tab_obs<span class="sc">-</span>tab_exp)<span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>tab_exp</span>
<span id="cb122-16"><a href="logistic-regression.html#cb122-16" aria-hidden="true" tabindex="-1"></a>tab_temp[<span class="dv">1</span>,<span class="dv">1</span>] <span class="sc">+</span> tab_temp[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">+</span> tab_temp[<span class="dv">2</span>,<span class="dv">1</span>] <span class="sc">+</span> tab_temp[<span class="dv">2</span>,<span class="dv">2</span>]</span></code></pre></div>
</div>
</div>
<div id="addons" class="section level2 hasAnchor" number="11.3">
<h2><span class="header-section-number">11.3</span> Addons<a href="logistic-regression.html#addons" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="some-are-more-equal-than-others" class="section level4 hasAnchor" number="11.3.0.1">
<h4><span class="header-section-number">11.3.0.1</span> Some Are More Equal Than Others<a href="logistic-regression.html#some-are-more-equal-than-others" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let's extend the group analysis to multiple categories using the <code>Pclass</code> variable. The passenger class represents the socio-economic status of people. We hypothesize that people with more money used their influence to get into one of the lifeboats. First, the contingency table of the situation:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="logistic-regression.html#cb123-1" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> <span class="fu">contingency_table</span>(<span class="fu">list</span>(<span class="st">&quot;Passenger Class&quot;</span><span class="ot">=</span><span class="st">&#39;Pclass&#39;</span>),</span>
<span id="cb123-2"><a href="logistic-regression.html#cb123-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">outcomes=</span><span class="fu">list</span>(<span class="st">&#39;Survival&#39;</span><span class="ot">=</span><span class="st">&#39;Survived_fct&#39;</span>), <span class="do">## need to be factors</span></span>
<span id="cb123-3"><a href="logistic-regression.html#cb123-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">crosstab_funcs=</span><span class="fu">list</span>(<span class="fu">freq</span>()),</span>
<span id="cb123-4"><a href="logistic-regression.html#cb123-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">data=</span>titanic_fct)</span>
<span id="cb123-5"><a href="logistic-regression.html#cb123-5" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb123-6"><a href="logistic-regression.html#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="fu">neat_table</span>(tab, <span class="at">format =</span> <span class="fu">c</span>(<span class="st">&quot;html&quot;</span>))</span></code></pre></div>
<p>In first class, more people survived (n=168) than died (n=114) whereas this not true for the third class (365 died and 135 survived). All men may be created equal, but some are more equal than others. The logistic regression with one categorical variable is straightforward:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="logistic-regression.html#cb124-1" aria-hidden="true" tabindex="-1"></a>logistic2 <span class="ot">=</span> <span class="fu">glm</span>(Survived <span class="sc">~</span> Pclass, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">&#39;logit&#39;</span>), <span class="at">data =</span> titanic)</span>
<span id="cb124-2"><a href="logistic-regression.html#cb124-2" aria-hidden="true" tabindex="-1"></a>logistic2</span>
<span id="cb124-3"><a href="logistic-regression.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb124-4"><a href="logistic-regression.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:  glm(formula = Survived ~ Pclass, family = binomial(link = &quot;logit&quot;), </span></span>
<span id="cb124-5"><a href="logistic-regression.html#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     data = titanic)</span></span>
<span id="cb124-6"><a href="logistic-regression.html#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb124-7"><a href="logistic-regression.html#cb124-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb124-8"><a href="logistic-regression.html#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)       Pclass  </span></span>
<span id="cb124-9"><a href="logistic-regression.html#cb124-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      1.0860      -0.6921  </span></span>
<span id="cb124-10"><a href="logistic-regression.html#cb124-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb124-11"><a href="logistic-regression.html#cb124-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Degrees of Freedom: 1042 Total (i.e. Null);  1041 Residual</span></span>
<span id="cb124-12"><a href="logistic-regression.html#cb124-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Null Deviance:       1402 </span></span>
<span id="cb124-13"><a href="logistic-regression.html#cb124-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residual Deviance: 1320  AIC: 1324</span></span></code></pre></div>
<p>The lower your socio-economic status, the less survival can you expect.</p>
</div>
<div id="the-cheaper-the-deader" class="section level4 hasAnchor" number="11.3.0.2">
<h4><span class="header-section-number">11.3.0.2</span> The Cheaper The Deader?<a href="logistic-regression.html#the-cheaper-the-deader" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We have another option to investigate the effect of socio-economic class, the <code>Fare</code> variable (ticket price). The prices of tickets on the Titanic in 1912 ranged from £870 or $4,350 for a first-class parlor suite to a maximum of £8 or $40 for a third-class passage, according to The Washington Times. A century later, in 2012, those ticket prices equaled a range of $50,000 to $460.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="logistic-regression.html#cb125-1" aria-hidden="true" tabindex="-1"></a>logistic3 <span class="ot">=</span> <span class="fu">glm</span>(Survived <span class="sc">~</span> Fare, <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">&#39;logit&#39;</span>), <span class="at">data =</span> titanic)</span>
<span id="cb125-2"><a href="logistic-regression.html#cb125-2" aria-hidden="true" tabindex="-1"></a>logistic3</span>
<span id="cb125-3"><a href="logistic-regression.html#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb125-4"><a href="logistic-regression.html#cb125-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:  glm(formula = Survived ~ Fare, family = binomial(link = &quot;logit&quot;), </span></span>
<span id="cb125-5"><a href="logistic-regression.html#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     data = titanic)</span></span>
<span id="cb125-6"><a href="logistic-regression.html#cb125-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb125-7"><a href="logistic-regression.html#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb125-8"><a href="logistic-regression.html#cb125-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)         Fare  </span></span>
<span id="cb125-9"><a href="logistic-regression.html#cb125-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -0.80666      0.01109  </span></span>
<span id="cb125-10"><a href="logistic-regression.html#cb125-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb125-11"><a href="logistic-regression.html#cb125-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Degrees of Freedom: 1042 Total (i.e. Null);  1041 Residual</span></span>
<span id="cb125-12"><a href="logistic-regression.html#cb125-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Null Deviance:       1402 </span></span>
<span id="cb125-13"><a href="logistic-regression.html#cb125-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residual Deviance: 1337  AIC: 1341</span></span></code></pre></div>
<p>The coefficient and intercept estimates give us the following equation:</p>
<p><span class="math display">\[ \text{logit}(p) = -0.80666  + 0.01109 \cdot \text{fare} \]</span></p>
<p>In this case, the estimated coefficient for the <strong>intercept</strong> is the log odds of a passenger with a fare of zero surviving the accident. Of course, there is nothing like a free lunch. So the intercept in this model corresponds to the log odds of survival when fare is at the hypothetical value of zero.</p>
<p>How do we interpret the <strong>slope</strong> coefficient for <code>Fare</code>? Let's fix <code>Fare</code> at some value, e.g. the mean which roughly equals 37 (rounded to 0 decimals). Then the conditional logit of surviving when the fare is equal to the mean is:</p>
<!-- -0.3964565 -->
<!-- ## ```{r, eval=TRUE, echo=TRUE} -->
<!-- ## logistic3$coefficients[1] + logistic3$coefficients[2] * mean(titanic$Fare) -->
<!-- ## ``` -->
<!-- When the fare is held at 36, the conditional logit of surviving is: -0.3897711 -->
<p><span class="math display">\[\begin{aligned}
\text{logit}(p | \text{fare}=36) &amp;= -0.3964565  \\
\text{logit}(p | \text{fare}=37) &amp;= -0.38537  \\
\end{aligned}\]</span></p>
<p>We can examine the effect of a <strong>one-unit increase</strong> in fare by taking the difference of the two equations:</p>
<p><span class="math display">\[\text{logit}(p | \text{fare}=37) - \text{logit}(p | \text{fare}=36) = 0.0110866  \]</span></p>
<p>In other words, for a one-unit increase in the fare price, the expected change in log odds is 0.0110866. Can we translate this change in log odds to the change in odds? Indeed, we can. Recall that logarithm converts multiplication and division to addition and subtraction. Its inverse, the exponentiation converts addition and subtraction back to multiplication and division. If we exponentiate both sides of our last equation, we have the following:</p>
<p><span class="math display">\[ e^{\text{logit}(p | \text{fare}=37) - \text{logit}(p | \text{fare}=36)} = e^{0.0110866} =  1.011148  \]</span></p>
<p>So we can say for a one-unit increase in fare price, we expect to see about 1.1% increase in the odds of surviving. This 1.1% of increase does not depend on the value that fare is held at.</p>
<details>
<summary>
Information about Britain’s currency at that time.
</summary>
Before Britain’s currency was in terms of pounds and pence, it was in terms of pounds, shillings and pennies e.g. £18 15s 9d. There were: 12 pennies per shilling and 20 shillings per pound.
</details>
<p><br></p>
<p>Can we get this information more directly? Yes, we can.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="logistic-regression.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(MASS)</span>
<span id="cb126-2"><a href="logistic-regression.html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">cbind</span>(<span class="fu">coef</span>(logistic3), <span class="fu">confint</span>(logistic3)))  </span>
<span id="cb126-3"><a href="logistic-regression.html#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                           2.5 %    97.5 %</span></span>
<span id="cb126-4"><a href="logistic-regression.html#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept) 0.4463467 0.3780949 0.5250284</span></span>
<span id="cb126-5"><a href="logistic-regression.html#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Fare        1.0111482 1.0080791 1.0145089</span></span></code></pre></div>
<!-- ## We can say now that the coefficient for fare is the difference in the log odds. -->
<!-- ## In other words, for a one-unit increase in the fare, the expected change in log odds is 0.011493. -->
<!-- ## exp[log(p/(1-p))(fare=34)-log(p/(1-p))(fare=33)] = -->
<!-- ## exp(log(p/(1-p))(fare=34)) / exp(log(p/(1-p))(fare=33)) = -->
<!-- ## odds(fare=34)/odds(fare=33) = -->
<!-- ## exp(0.011493) = 1.011559 -->
<!-- ## So we can say for a one-unit increase in fare, -->
<!-- ## we expect to see about 2% increase in the odds of surviving. -->
<!-- ## This 2% of increase does not depend on the value that fare is held at. -->
<!-- ## (model is linear in parameters) -->
</div>
<div id="the-bigger-picture" class="section level4 hasAnchor" number="11.3.0.3">
<h4><span class="header-section-number">11.3.0.3</span> The Bigger Picture<a href="logistic-regression.html#the-bigger-picture" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>First, we take another subset, since <code>PassengerId</code>, <code>Name</code> and <code>Ticket</code> are not good predictors.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="logistic-regression.html#cb127-1" aria-hidden="true" tabindex="-1"></a>logistic4 <span class="ot">=</span> <span class="fu">glm</span>(Survived <span class="sc">~</span> ., <span class="at">family =</span> <span class="fu">binomial</span>(<span class="at">link =</span> <span class="st">&#39;logit&#39;</span>), <span class="at">data =</span> titanic[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">8</span>)]) </span>
<span id="cb127-2"><a href="logistic-regression.html#cb127-2" aria-hidden="true" tabindex="-1"></a>logistic4</span>
<span id="cb127-3"><a href="logistic-regression.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb127-4"><a href="logistic-regression.html#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Call:  glm(formula = Survived ~ ., family = binomial(link = &quot;logit&quot;), </span></span>
<span id="cb127-5"><a href="logistic-regression.html#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     data = titanic[, -c(1, 3, 8)])</span></span>
<span id="cb127-6"><a href="logistic-regression.html#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb127-7"><a href="logistic-regression.html#cb127-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb127-8"><a href="logistic-regression.html#cb127-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept)       Pclass      Sexmale          Age        SibSp        Parch  </span></span>
<span id="cb127-9"><a href="logistic-regression.html#cb127-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    5.352939    -1.024737    -3.685172    -0.035433    -0.314696    -0.117345  </span></span>
<span id="cb127-10"><a href="logistic-regression.html#cb127-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        Fare    EmbarkedQ    EmbarkedS  </span></span>
<span id="cb127-11"><a href="logistic-regression.html#cb127-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0.001863    -0.283354    -0.201081  </span></span>
<span id="cb127-12"><a href="logistic-regression.html#cb127-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb127-13"><a href="logistic-regression.html#cb127-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Degrees of Freedom: 1042 Total (i.e. Null);  1034 Residual</span></span>
<span id="cb127-14"><a href="logistic-regression.html#cb127-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Null Deviance:       1402 </span></span>
<span id="cb127-15"><a href="logistic-regression.html#cb127-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Residual Deviance: 784.2     AIC: 802.2</span></span></code></pre></div>
<p>For example, increase one unit in age will decrease the log odd of survival by 0.0257; being a male will decrease the log odd of survival by 3.78 compared to female; and being in class2 will decrease the log odd of survival by 1.17, being in class3 will decrease the log odd of survival by 1.97.</p>
<p>Moreover, exponentiate the model coefficients can look at the result and interpret its meaning at a different angle. Below are table of the “odd ratio” value for each predictor coefficient relative to the survival and their respective 95% confident interval odd ratio value.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="logistic-regression.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">cbind</span>(<span class="at">OR =</span> <span class="fu">coef</span>(logistic4)))  </span>
<span id="cb128-2"><a href="logistic-regression.html#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                       OR</span></span>
<span id="cb128-3"><a href="logistic-regression.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; (Intercept) 211.22820034</span></span>
<span id="cb128-4"><a href="logistic-regression.html#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Pclass        0.35889085</span></span>
<span id="cb128-5"><a href="logistic-regression.html#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Sexmale       0.02509285</span></span>
<span id="cb128-6"><a href="logistic-regression.html#cb128-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Age           0.96518770</span></span>
<span id="cb128-7"><a href="logistic-regression.html#cb128-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; SibSp         0.73001047</span></span>
<span id="cb128-8"><a href="logistic-regression.html#cb128-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Parch         0.88927819</span></span>
<span id="cb128-9"><a href="logistic-regression.html#cb128-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Fare          1.00186428</span></span>
<span id="cb128-10"><a href="logistic-regression.html#cb128-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; EmbarkedQ     0.75325288</span></span>
<span id="cb128-11"><a href="logistic-regression.html#cb128-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; EmbarkedS     0.81784593</span></span></code></pre></div>
<p>Now, the result can be interpreted as: for a unit increase in age, the odds of surviving from the incident decrease by a factor of 0.96; and being a third class (class3), the odds of surviving decrease by a factor of 0.12, etc.</p>
<!-- The overall survival rate for men was 20%. For women, it was 74%, and for children, 52% -->
<div class="infobox2 information">
<p>The logit model coefficients can be presented as <strong>odds ratios</strong>. But odds-ratios are often misinterpreted as if they were relative risks/probabilities. Nonetheless presenting odds-ratios is standard practice in the medical literature.</p>
</div>
</div>
<div id="marginal-effects" class="section level4 hasAnchor" number="11.3.0.4">
<h4><span class="header-section-number">11.3.0.4</span> Marginal Effects<a href="logistic-regression.html#marginal-effects" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<!-- https://stats.stackexchange.com/questions/147612/interpretation-of-marginal-effects-in-logit-model-with-log-timesindependent-va -->
<!-- https://www.youtube.com/watch?v=lJMO5kqWwIo -->
<p>Marginal effects is a way of presenting results as differences in probabilities, which is more informative than odds-ratios and relative risk. For continuous variables this represents the instantaneous change given that the ‘unit’ may be very small. For binary variables, the change is from 0 to 1, so one ‘unit’ as it is usually thought.</p>
<p>In order to express the more intuitive change in the predicted probability that the outcome equals 1 requires conditioning on all other included variables (i.e., selecting a set of values for all righthand-side variables) and running that set of values through the link function to convert log-odds to probabilities, thus making the marginal effect (in probability terms) of one variable a function of all other variables included in the model.</p>
<div class="infobox2 information">
<p><strong>Marginal effects</strong> show the change in probability when the predictor or independent variable increases by one unit.</p>
</div>
<p><!-- This is the definition of semi-elasticity, and can be interpreted as the -->
<!-- change in probability for a 1% change in x. --></p>
<p><!-- So we can say for a one-percent increase in fare, -->
<!-- we expect to see about 0.002544 increase in the probability of surviving -->
<!-- on a scale from 0 to 1. -->
<!-- We could also infer that a 10% price increase increases survival probability -->
<!-- by about 0.025 --></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="logistic-regression.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(margins)</span>
<span id="cb129-2"><a href="logistic-regression.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">margins</span>(logistic4))</span>
<span id="cb129-3"><a href="logistic-regression.html#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     factor     AME     SE        z      p   lower   upper</span></span>
<span id="cb129-4"><a href="logistic-regression.html#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        Age -0.0041 0.0008  -4.9223 0.0000 -0.0057 -0.0024</span></span>
<span id="cb129-5"><a href="logistic-regression.html#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  EmbarkedQ -0.0326 0.0561  -0.5816 0.5608 -0.1425  0.0773</span></span>
<span id="cb129-6"><a href="logistic-regression.html#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  EmbarkedS -0.0233 0.0283  -0.8233 0.4103 -0.0787  0.0321</span></span>
<span id="cb129-7"><a href="logistic-regression.html#cb129-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       Fare  0.0002 0.0002   0.8831 0.3772 -0.0003  0.0007</span></span>
<span id="cb129-8"><a href="logistic-regression.html#cb129-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      Parch -0.0134 0.0130  -1.0356 0.3004 -0.0389  0.0120</span></span>
<span id="cb129-9"><a href="logistic-regression.html#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     Pclass -0.1173 0.0167  -7.0181 0.0000 -0.1501 -0.0846</span></span>
<span id="cb129-10"><a href="logistic-regression.html#cb129-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    Sexmale -0.6601 0.0253 -26.0454 0.0000 -0.7098 -0.6105</span></span>
<span id="cb129-11"><a href="logistic-regression.html#cb129-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      SibSp -0.0360 0.0134  -2.6865 0.0072 -0.0623 -0.0097</span></span></code></pre></div>
<!-- #### Odds Ratio -->
<!-- ::: {.infobox2 .information data-latex="warning"} -->
<!-- The **Odds Ratio** (OR) is a measure of association between an exposure and an outcome. -->
<!-- ::: -->
<!-- <!-- https://www.theanalysisfactor.com/why-use-odds-ratios/ -->
<!-- <!-- The problem is that probability and odds have different properties that give odds some advantages in statistics. For example, -->
<!-- In logistic regression the odds ratio represents the constant effect of a predictor X, on the likelihood that one outcome will occur. The key phrase here is constant effect. In regression models, we often want a measure of the unique effect of each X on Y. If we try to express the effect of X on the likelihood of a categorical Y having a specific value through probability, the effect is not constant. What that means is there is no way to express in one number how X affects Y in terms of probability. The effect of X on the probability of Y has different values depending on the value of X. -->
<!-- So we can get the odds ratio by exponentiating the coefficient for female. Most statistical packages display both the raw regression coefficients and -->
<!--  the exponentiated coefficients for logistic regression models. -->
<!-- ```{r, eval=TRUE, echo=TRUE} -->
<!-- exp(coef(logistic1)) -->
<!-- ``` -->

</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="regression.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interaction-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Becoming Fluent In Data.pdf", "Becoming Fluent In Data.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": false
},
"toc_depth": 1,
"toc-title": "Table of Contents",
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
