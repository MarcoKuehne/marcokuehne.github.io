<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Geo Data | Becoming Fluent in Data</title>
  <meta name="description" content="A guide to become fluent in data." />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Geo Data | Becoming Fluent in Data" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/images/Cover.png" />
  <meta property="og:description" content="A guide to become fluent in data." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Geo Data | Becoming Fluent in Data" />
  
  <meta name="twitter:description" content="A guide to become fluent in data." />
  <meta name="twitter:image" content="/images/Cover.png" />

<meta name="author" content="Marco KÃ¼hne" />


<meta name="date" content="2024-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/Logo.ico" type="image/x-icon" />
<link rel="prev" href="web-data.html"/>
<link rel="next" href="missing-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/tippyjs-3.2.0/themes/google.css" rel="stylesheet" />
<link href="libs/tippyjs-3.2.0/themes/light-border.css" rel="stylesheet" />
<link href="libs/tippyjs-3.2.0/themes/light.css" rel="stylesheet" />
<link href="libs/tippyjs-3.2.0/themes/translucent.css" rel="stylesheet" />
<script src="libs/tippyjs-3.2.0/tippy.all.min.js"></script>
<script src="libs/tippy-binding-0.1.0/tippy.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script type="application/json" class="js-hypothesis-config">
{
"showHighlights": false
}
</script>
<script async defer src="https://hypothes.is/embed.js"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P9BQG7T00K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-P9BQG7T00K');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="www/webex.css" type="text/css" />
<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/box_def.css" type="text/css" />
<link rel="stylesheet" href="css/box_amazing.css" type="text/css" />
<link rel="stylesheet" href="css/box_challenge.css" type="text/css" />
<link rel="stylesheet" href="css/box_dedicated.css" type="text/css" />
<link rel="stylesheet" href="css/box_reading.css" type="text/css" />
<link rel="stylesheet" href="css/ani.css" type="text/css" />
<link rel="stylesheet" href="css/background.css" type="text/css" />
<link rel="stylesheet" href="css/toggle.css" type="text/css" />
<link rel="stylesheet" href="css/wikipedia_link.css" type="text/css" />
<link rel="stylesheet" href="css/align.css" type="text/css" />
<link rel="stylesheet" href="css/video.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://marcokuehne.github.io/">Becoming Fluent in Data</a></li> <li><p class="aligncenter"> <img src="images/Logo.png" width="60%" height="60%"> </p></li>
<li class="divider"></li>
<li class="part"><span><b>I Intro</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html"><i class="fa fa-check"></i>About the book</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#aims-of-this-book"><i class="fa fa-check"></i>Aims of this book</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#for-students"><i class="fa fa-check"></i>For students</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#for-instructors"><i class="fa fa-check"></i>For instructors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#structure"><i class="fa fa-check"></i>Structure</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#color"><i class="fa fa-check"></i>Color</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#components"><i class="fa fa-check"></i>Components</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
<li class="chapter" data-level="" data-path="about-the-book.html"><a href="about-the-book.html#why-tidyverse"><i class="fa fa-check"></i>Why Tidyverse?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the author</a>
<ul>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html#dust-and-dark"><i class="fa fa-check"></i>Dust and Dark</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html#teach-learn-repeat"><i class="fa fa-check"></i>Teach â Learn â Repeat</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html"><i class="fa fa-check"></i>Intro to R</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#r-is-a-calculator"><i class="fa fa-check"></i>R is a calculator</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#r-is-more-than-a-calculator"><i class="fa fa-check"></i>R is more than a calculator</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#define-objects"><i class="fa fa-check"></i>Define objects</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#numeric-variables"><i class="fa fa-check"></i>Numeric Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#logical-variables"><i class="fa fa-check"></i>Logical Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#string-variables"><i class="fa fa-check"></i>String Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#factor-variables"><i class="fa fa-check"></i>Factor Variables</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#combine-objects"><i class="fa fa-check"></i>Combine objects</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#vectors"><i class="fa fa-check"></i>Vectors</a></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#data-frame"><i class="fa fa-check"></i>Data frame</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-r.html"><a href="intro-to-r.html#plots"><i class="fa fa-check"></i>Plots</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html"><i class="fa fa-check"></i>Intro to Tidyverse</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#data-with-readr"><i class="fa fa-check"></i>Data with readr</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#verbs-of-dplyr"><i class="fa fa-check"></i>Verbs of dplyr</a>
<ul>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#glimpse"><i class="fa fa-check"></i>Glimpse</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#select"><i class="fa fa-check"></i>Select</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#arrange"><i class="fa fa-check"></i>Arrange</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#rename"><i class="fa fa-check"></i>Rename</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#the-pipe-operator"><i class="fa fa-check"></i>The pipe operator</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#filter"><i class="fa fa-check"></i>Filter</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#mutate"><i class="fa fa-check"></i>Mutate</a></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#summarize"><i class="fa fa-check"></i>Summarize</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="intro-to-tidyverse.html"><a href="intro-to-tidyverse.html#graphs-with-ggplot2"><i class="fa fa-check"></i>Graphs with ggplot2</a></li>
</ul></li>
<li class="part"><span><b>II Data</b></span></li>
<li class="chapter" data-level="1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html"><i class="fa fa-check"></i><b>1</b> Data is everywhere</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#why-we-measure"><i class="fa fa-check"></i><b>1.1</b> Why we measure</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#women-are-having-far-fewer-children."><i class="fa fa-check"></i><b>1.1.1</b> Women are having far fewer children.</a></li>
<li class="chapter" data-level="1.1.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#global-surface-temperature-is-rising."><i class="fa fa-check"></i><b>1.1.2</b> Global surface temperature is rising.</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#means-of-measuring"><i class="fa fa-check"></i><b>1.2</b> Means of measuring</a></li>
<li class="chapter" data-level="1.3" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#types-of-data"><i class="fa fa-check"></i><b>1.3</b> Types of data</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#origin-of-data"><i class="fa fa-check"></i><b>1.3.1</b> Origin of data</a></li>
<li class="chapter" data-level="1.3.2" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#analysis-of-data"><i class="fa fa-check"></i><b>1.3.2</b> Analysis of data</a></li>
<li class="chapter" data-level="1.3.3" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#structure-of-data"><i class="fa fa-check"></i><b>1.3.3</b> Structure of data</a></li>
<li class="chapter" data-level="1.3.4" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#the-level-of-access"><i class="fa fa-check"></i><b>1.3.4</b> The level of access</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#can-we-measure-everything"><i class="fa fa-check"></i><b>1.4</b> Can we measure everything?</a></li>
<li class="chapter" data-level="1.5" data-path="data-is-everywhere.html"><a href="data-is-everywhere.html#the-reality-behind-the-data"><i class="fa fa-check"></i><b>1.5</b> The reality behind the data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html"><i class="fa fa-check"></i><b>2</b> Stories and Visuals</a>
<ul>
<li class="chapter" data-level="2.1" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html#facts"><i class="fa fa-check"></i><b>2.1</b> Facts</a></li>
<li class="chapter" data-level="2.2" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html#visualization"><i class="fa fa-check"></i><b>2.2</b> Visualization</a></li>
<li class="chapter" data-level="2.3" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html#telling-a-story"><i class="fa fa-check"></i><b>2.3</b> Telling a story</a></li>
<li class="chapter" data-level="2.4" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html#mans-best-friend"><i class="fa fa-check"></i><b>2.4</b> Man's best friend</a></li>
<li class="chapter" data-level="2.5" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html#less-is-more"><i class="fa fa-check"></i><b>2.5</b> Less is more</a></li>
<li class="chapter" data-level="2.6" data-path="stories-and-visuals.html"><a href="stories-and-visuals.html#grammar-of-graphics"><i class="fa fa-check"></i><b>2.6</b> Grammar of Graphics</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tabular-data.html"><a href="tabular-data.html"><i class="fa fa-check"></i><b>3</b> Tabular Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tabular-data.html"><a href="tabular-data.html#types-of-tabular-data"><i class="fa fa-check"></i><b>3.1</b> Types of Tabular Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tabular-data.html"><a href="tabular-data.html#cross-section"><i class="fa fa-check"></i><b>3.1.1</b> Cross-section</a></li>
<li class="chapter" data-level="3.1.2" data-path="tabular-data.html"><a href="tabular-data.html#repeated-cross-section"><i class="fa fa-check"></i><b>3.1.2</b> Repeated cross-section</a></li>
<li class="chapter" data-level="3.1.3" data-path="tabular-data.html"><a href="tabular-data.html#time-series"><i class="fa fa-check"></i><b>3.1.3</b> Time series</a></li>
<li class="chapter" data-level="3.1.4" data-path="tabular-data.html"><a href="tabular-data.html#panel-data"><i class="fa fa-check"></i><b>3.1.4</b> Panel data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="panel-data-1.html"><a href="panel-data-1.html"><i class="fa fa-check"></i><b>4</b> Panel Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="panel-data-1.html"><a href="panel-data-1.html#unemployment"><i class="fa fa-check"></i><b>4.1</b> Unemployment</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="panel-data-1.html"><a href="panel-data-1.html#on-decline-in-germany"><i class="fa fa-check"></i><b>4.1.1</b> On decline in Germany</a></li>
<li class="chapter" data-level="4.1.2" data-path="panel-data-1.html"><a href="panel-data-1.html#measurement"><i class="fa fa-check"></i><b>4.1.2</b> Measurement</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="panel-data-1.html"><a href="panel-data-1.html#application"><i class="fa fa-check"></i><b>4.2</b> Application</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="panel-data-1.html"><a href="panel-data-1.html#data-inspection"><i class="fa fa-check"></i><b>4.2.1</b> Data Inspection</a></li>
<li class="chapter" data-level="4.2.2" data-path="panel-data-1.html"><a href="panel-data-1.html#data-preparation"><i class="fa fa-check"></i><b>4.2.2</b> Data Preparation</a></li>
<li class="chapter" data-level="4.2.3" data-path="panel-data-1.html"><a href="panel-data-1.html#data-visualization"><i class="fa fa-check"></i><b>4.2.3</b> Data Visualization</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="panel-data-1.html"><a href="panel-data-1.html#panel-studies"><i class="fa fa-check"></i><b>4.3</b> Panel Studies</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="time-data.html"><a href="time-data.html"><i class="fa fa-check"></i><b>5</b> Time data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="time-data.html"><a href="time-data.html#measuring-time"><i class="fa fa-check"></i><b>5.1</b> Measuring Time</a></li>
<li class="chapter" data-level="5.2" data-path="time-data.html"><a href="time-data.html#measuring-dates"><i class="fa fa-check"></i><b>5.2</b> Measuring Dates</a></li>
<li class="chapter" data-level="5.3" data-path="time-data.html"><a href="time-data.html#your-first-time-in-r"><i class="fa fa-check"></i><b>5.3</b> Your First Time (in R)</a></li>
<li class="chapter" data-level="5.4" data-path="time-data.html"><a href="time-data.html#time-zones"><i class="fa fa-check"></i><b>5.4</b> Time Zones</a></li>
<li class="chapter" data-level="5.5" data-path="time-data.html"><a href="time-data.html#time-management-in-r"><i class="fa fa-check"></i><b>5.5</b> Time Management in R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="time-data.html"><a href="time-data.html#decimal-time"><i class="fa fa-check"></i><b>5.5.1</b> Decimal Time</a></li>
<li class="chapter" data-level="5.5.2" data-path="time-data.html"><a href="time-data.html#time-formats"><i class="fa fa-check"></i><b>5.5.2</b> Time Formats</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="time-data.html"><a href="time-data.html#coffee-spending"><i class="fa fa-check"></i><b>5.6</b> Coffee Spending</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="time-data.html"><a href="time-data.html#spending-time-of-day"><i class="fa fa-check"></i><b>5.6.1</b> Spending Time of Day</a></li>
<li class="chapter" data-level="5.6.2" data-path="time-data.html"><a href="time-data.html#run-chart"><i class="fa fa-check"></i><b>5.6.2</b> Run Chart</a></li>
<li class="chapter" data-level="5.6.3" data-path="time-data.html"><a href="time-data.html#run-chart-grouped"><i class="fa fa-check"></i><b>5.6.3</b> Run Chart Grouped</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="time-data.html"><a href="time-data.html#run-chart-grouped-cleaned"><i class="fa fa-check"></i><b>5.7</b> Run Chart Grouped Cleaned</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="web-data.html"><a href="web-data.html"><i class="fa fa-check"></i><b>6</b> Web Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="web-data.html"><a href="web-data.html#most-expensive-paintings"><i class="fa fa-check"></i><b>6.1</b> Most expensive paintings</a></li>
<li class="chapter" data-level="6.2" data-path="web-data.html"><a href="web-data.html#student-numbers-at-viadrina"><i class="fa fa-check"></i><b>6.2</b> Student numbers at Viadrina</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="web-data.html"><a href="web-data.html#pdf-scraping"><i class="fa fa-check"></i><b>6.2.1</b> PDF scraping</a></li>
<li class="chapter" data-level="6.2.2" data-path="web-data.html"><a href="web-data.html#share-of-female-students"><i class="fa fa-check"></i><b>6.2.2</b> Share of female students</a></li>
<li class="chapter" data-level="6.2.3" data-path="web-data.html"><a href="web-data.html#share-of-foreign-students"><i class="fa fa-check"></i><b>6.2.3</b> Share of foreign students</a></li>
<li class="chapter" data-level="6.2.4" data-path="web-data.html"><a href="web-data.html#web-scraping"><i class="fa fa-check"></i><b>6.2.4</b> Web scraping</a></li>
<li class="chapter" data-level="6.2.5" data-path="web-data.html"><a href="web-data.html#most-recent-student-numbers"><i class="fa fa-check"></i><b>6.2.5</b> Most recent student numbers</a></li>
<li class="chapter" data-level="6.2.6" data-path="web-data.html"><a href="web-data.html#the-long-run-trend"><i class="fa fa-check"></i><b>6.2.6</b> The long run trend</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="geo-data.html"><a href="geo-data.html"><i class="fa fa-check"></i><b>7</b> Geo Data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="geo-data.html"><a href="geo-data.html#geo-coordinates"><i class="fa fa-check"></i><b>7.1</b> Geo coordinates</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="geo-data.html"><a href="geo-data.html#where-are-you"><i class="fa fa-check"></i><b>7.1.1</b> Where Are You?</a></li>
<li class="chapter" data-level="7.1.2" data-path="geo-data.html"><a href="geo-data.html#latitude-and-longitude"><i class="fa fa-check"></i><b>7.1.2</b> Latitude and longitude</a></li>
<li class="chapter" data-level="7.1.3" data-path="geo-data.html"><a href="geo-data.html#angles-and-degrees"><i class="fa fa-check"></i><b>7.1.3</b> Angles and Degrees</a></li>
<li class="chapter" data-level="7.1.4" data-path="geo-data.html"><a href="geo-data.html#coordinate-reference-system"><i class="fa fa-check"></i><b>7.1.4</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="7.1.5" data-path="geo-data.html"><a href="geo-data.html#distance-measurement"><i class="fa fa-check"></i><b>7.1.5</b> Distance measurement</a></li>
<li class="chapter" data-level="7.1.6" data-path="geo-data.html"><a href="geo-data.html#points-and-polygons"><i class="fa fa-check"></i><b>7.1.6</b> Points And Polygons</a></li>
<li class="chapter" data-level="7.1.7" data-path="geo-data.html"><a href="geo-data.html#shapefiles"><i class="fa fa-check"></i><b>7.1.7</b> Shapefiles</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="geo-data.html"><a href="geo-data.html#google-takeout"><i class="fa fa-check"></i><b>7.2</b> Google Takeout</a></li>
<li class="chapter" data-level="7.3" data-path="geo-data.html"><a href="geo-data.html#blood-donation"><i class="fa fa-check"></i><b>7.3</b> Blood Donation</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="missing-data.html"><a href="missing-data.html"><i class="fa fa-check"></i><b>8</b> Missing Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="missing-data.html"><a href="missing-data.html#types-of-missing-data"><i class="fa fa-check"></i><b>8.1</b> Types of Missing Data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="missing-data.html"><a href="missing-data.html#missing-completely-at-random-mcar"><i class="fa fa-check"></i><b>8.1.1</b> Missing Completely at Random (MCAR)</a></li>
<li class="chapter" data-level="8.1.2" data-path="missing-data.html"><a href="missing-data.html#missing-at-random-mar"><i class="fa fa-check"></i><b>8.1.2</b> Missing at Random (MAR)</a></li>
<li class="chapter" data-level="8.1.3" data-path="missing-data.html"><a href="missing-data.html#missing-not-at-random-mnar"><i class="fa fa-check"></i><b>8.1.3</b> Missing Not at Random (MNAR)</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="missing-data.html"><a href="missing-data.html#causes-of-missing-data"><i class="fa fa-check"></i><b>8.2</b> Causes of Missing Data</a></li>
<li class="chapter" data-level="8.3" data-path="missing-data.html"><a href="missing-data.html#causes-of-missing-data-1"><i class="fa fa-check"></i><b>8.3</b> Causes of Missing Data</a></li>
<li class="chapter" data-level="8.4" data-path="missing-data.html"><a href="missing-data.html#causes-of-missing-data-2"><i class="fa fa-check"></i><b>8.4</b> Causes of Missing Data</a></li>
<li class="chapter" data-level="8.5" data-path="missing-data.html"><a href="missing-data.html#causes-of-missing-data-3"><i class="fa fa-check"></i><b>8.5</b> Causes of Missing Data</a></li>
<li class="chapter" data-level="8.6" data-path="missing-data.html"><a href="missing-data.html#missing-data-in-r"><i class="fa fa-check"></i><b>8.6</b> Missing Data in R</a></li>
</ul></li>
<li class="part"><span><b>III Models</b></span></li>
<li class="chapter" data-level="9" data-path="relationships.html"><a href="relationships.html"><i class="fa fa-check"></i><b>9</b> Relationships</a>
<ul>
<li class="chapter" data-level="9.1" data-path="relationships.html"><a href="relationships.html#storks-deliver-babies"><i class="fa fa-check"></i><b>9.1</b> Storks Deliver Babies</a></li>
<li class="chapter" data-level="9.2" data-path="relationships.html"><a href="relationships.html#statistics"><i class="fa fa-check"></i><b>9.2</b> Statistics</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="relationships.html"><a href="relationships.html#variance"><i class="fa fa-check"></i><b>9.2.1</b> Variance</a></li>
<li class="chapter" data-level="9.2.2" data-path="relationships.html"><a href="relationships.html#standard-deviation"><i class="fa fa-check"></i><b>9.2.2</b> Standard Deviation</a></li>
<li class="chapter" data-level="9.2.3" data-path="relationships.html"><a href="relationships.html#covariance"><i class="fa fa-check"></i><b>9.2.3</b> Covariance</a></li>
<li class="chapter" data-level="9.2.4" data-path="relationships.html"><a href="relationships.html#correlation"><i class="fa fa-check"></i><b>9.2.4</b> Correlation</a></li>
<li class="chapter" data-level="9.2.5" data-path="relationships.html"><a href="relationships.html#an-early-glimpse-into-regression"><i class="fa fa-check"></i><b>9.2.5</b> An Early Glimpse into Regression</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="relationships.html"><a href="relationships.html#visualizations"><i class="fa fa-check"></i><b>9.3</b> Visualizations</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="relationships.html"><a href="relationships.html#storks-and-population-in-a-scatterplot"><i class="fa fa-check"></i><b>9.3.1</b> Storks and Population in a Scatterplot</a></li>
<li class="chapter" data-level="9.3.2" data-path="relationships.html"><a href="relationships.html#storks-and-population-in-a-barplot"><i class="fa fa-check"></i><b>9.3.2</b> Storks and Population in a Barplot</a></li>
<li class="chapter" data-level="9.3.3" data-path="relationships.html"><a href="relationships.html#storks-and-area"><i class="fa fa-check"></i><b>9.3.3</b> Storks and Area</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="relationships.html"><a href="relationships.html#spurious-relationships"><i class="fa fa-check"></i><b>9.4</b> Spurious Relationships</a></li>
<li class="chapter" data-level="" data-path="relationships.html"><a href="relationships.html#readings"><i class="fa fa-check"></i>Readings</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>10</b> Regression</a>
<ul>
<li class="chapter" data-level="10.1" data-path="regression.html"><a href="regression.html#old-but-gold"><i class="fa fa-check"></i><b>10.1</b> Old but Gold</a></li>
<li class="chapter" data-level="10.2" data-path="regression.html"><a href="regression.html#data-is-everywhere-1"><i class="fa fa-check"></i><b>10.2</b> Data is everywhere</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="regression.html"><a href="regression.html#data-in-a-table"><i class="fa fa-check"></i><b>10.2.1</b> Data in a table</a></li>
<li class="chapter" data-level="10.2.2" data-path="regression.html"><a href="regression.html#data-in-a-graph"><i class="fa fa-check"></i><b>10.2.2</b> Data in a graph</a></li>
<li class="chapter" data-level="10.2.3" data-path="regression.html"><a href="regression.html#the-trend"><i class="fa fa-check"></i><b>10.2.3</b> The trend</a></li>
<li class="chapter" data-level="10.2.4" data-path="regression.html"><a href="regression.html#the-blackbox"><i class="fa fa-check"></i><b>10.2.4</b> The blackbox</a></li>
<li class="chapter" data-level="10.2.5" data-path="regression.html"><a href="regression.html#nobodys-perfect"><i class="fa fa-check"></i><b>10.2.5</b> Nobody's perfect</a></li>
<li class="chapter" data-level="10.2.6" data-path="regression.html"><a href="regression.html#vocab-wrap-up"><i class="fa fa-check"></i><b>10.2.6</b> Vocab Wrap-Up</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="regression.html"><a href="regression.html#for-the-truly-dedicated"><i class="fa fa-check"></i><b>10.3</b> For the truly dedicated</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="regression.html"><a href="regression.html#algebra"><i class="fa fa-check"></i><b>10.3.1</b> Algebra</a></li>
<li class="chapter" data-level="10.3.2" data-path="regression.html"><a href="regression.html#analysis"><i class="fa fa-check"></i><b>10.3.2</b> Analysis</a></li>
<li class="chapter" data-level="10.3.3" data-path="regression.html"><a href="regression.html#take-the-long-way-home"><i class="fa fa-check"></i><b>10.3.3</b> Take the Long Way Home</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="regression.html"><a href="regression.html#survival-of-the-fittest-line"><i class="fa fa-check"></i><b>10.4</b> Survival of the Fittest Line</a></li>
<li class="chapter" data-level="10.5" data-path="regression.html"><a href="regression.html#on-the-shoulders-of-giants"><i class="fa fa-check"></i><b>10.5</b> On the Shoulders of Giants</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>11</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="11.1" data-path="linear-regression.html"><a href="linear-regression.html#what-you-deserve-is-what-you-get"><i class="fa fa-check"></i><b>11.1</b> What You Deserve Is What You Get</a></li>
<li class="chapter" data-level="11.2" data-path="linear-regression.html"><a href="linear-regression.html#data-sample"><i class="fa fa-check"></i><b>11.2</b> Data &amp; Sample</a></li>
<li class="chapter" data-level="11.3" data-path="linear-regression.html"><a href="linear-regression.html#data-visualization-1"><i class="fa fa-check"></i><b>11.3</b> Data Visualization</a></li>
<li class="chapter" data-level="11.4" data-path="linear-regression.html"><a href="linear-regression.html#simplest-regression"><i class="fa fa-check"></i><b>11.4</b> Simplest Regression</a></li>
<li class="chapter" data-level="11.5" data-path="linear-regression.html"><a href="linear-regression.html#simple-regression"><i class="fa fa-check"></i><b>11.5</b> Simple Regression</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="linear-regression.html"><a href="linear-regression.html#x-is-continuous"><i class="fa fa-check"></i><b>11.5.1</b> X is continuous</a></li>
<li class="chapter" data-level="11.5.2" data-path="linear-regression.html"><a href="linear-regression.html#x-is-a-dummy"><i class="fa fa-check"></i><b>11.5.2</b> X is a dummy</a></li>
<li class="chapter" data-level="11.5.3" data-path="linear-regression.html"><a href="linear-regression.html#x-is-categorical"><i class="fa fa-check"></i><b>11.5.3</b> X is categorical</a></li>
<li class="chapter" data-level="11.5.4" data-path="linear-regression.html"><a href="linear-regression.html#x-is-categorical-is-it"><i class="fa fa-check"></i><b>11.5.4</b> X is categorical, is it?</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="linear-regression.html"><a href="linear-regression.html#parallel-slopes"><i class="fa fa-check"></i><b>11.6</b> Parallel Slopes</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="linear-regression.html"><a href="linear-regression.html#x-is-continuous-dummy"><i class="fa fa-check"></i><b>11.6.1</b> X is continuous + dummy</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="linear-regression.html"><a href="linear-regression.html#model-comparison"><i class="fa fa-check"></i><b>11.7</b> Model Comparison</a></li>
<li class="chapter" data-level="11.8" data-path="linear-regression.html"><a href="linear-regression.html#transform-to-perform"><i class="fa fa-check"></i><b>11.8</b> Transform to Perform</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="interaction-models.html"><a href="interaction-models.html"><i class="fa fa-check"></i><b>12</b> Interaction Models</a>
<ul>
<li class="chapter" data-level="12.1" data-path="interaction-models.html"><a href="interaction-models.html#motivation"><i class="fa fa-check"></i><b>12.1</b> Motivation</a></li>
<li class="chapter" data-level="12.2" data-path="interaction-models.html"><a href="interaction-models.html#data-sample-1"><i class="fa fa-check"></i><b>12.2</b> Data &amp; Sample</a></li>
<li class="chapter" data-level="12.3" data-path="interaction-models.html"><a href="interaction-models.html#throwback-parallel-slopes"><i class="fa fa-check"></i><b>12.3</b> Throwback Parallel Slopes</a></li>
<li class="chapter" data-level="12.4" data-path="interaction-models.html"><a href="interaction-models.html#regression-with-moderators"><i class="fa fa-check"></i><b>12.4</b> Regression with Moderators</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="interaction-models.html"><a href="interaction-models.html#dummy-dummy"><i class="fa fa-check"></i><b>12.4.1</b> Dummy * Dummy</a></li>
<li class="chapter" data-level="12.4.2" data-path="interaction-models.html"><a href="interaction-models.html#categorical-dummy"><i class="fa fa-check"></i><b>12.4.2</b> Categorical * Dummy</a></li>
<li class="chapter" data-level="12.4.3" data-path="interaction-models.html"><a href="interaction-models.html#continuous-dummy"><i class="fa fa-check"></i><b>12.4.3</b> Continuous * Dummy</a></li>
<li class="chapter" data-level="12.4.4" data-path="interaction-models.html"><a href="interaction-models.html#continuous-continuous"><i class="fa fa-check"></i><b>12.4.4</b> Continuous * Continuous</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="interaction-models.html"><a href="interaction-models.html#model-comparison-1"><i class="fa fa-check"></i><b>12.5</b> Model Comparison</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a>
<ul>
<li class="chapter" data-level="12.6" data-path="references.html"><a href="references.html#resources"><i class="fa fa-check"></i><b>12.6</b> Resources</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://marco-kuehne.com/" target="blank">Visit my personal page</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Becoming Fluent in Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<br>
<div class = infobox>
This book is <b>Work in Progress</b>. I appreciate your feedback to make the book better.
</div>
<div id="geo-data" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Geo Data<a href="geo-data.html#geo-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>Geo data</strong>, short for geographic data, is a fundamental aspect of our digital world that captures information about locations on Earth. It encompasses a wide range of spatial data, including coordinates, addresses, and attributes tied to specific geographic points. Geo data plays a pivotal role in shaping our everyday experiences, influencing navigation, enhancing services, and providing valuable insights across various sectors.</p>
<p>One of the most prevalent ways individuals interact with geo data is through the Global Positioning System (GPS) embedded in their mobile phones. When you use GPS on your smartphone, you're tapping into a vast network of satellites orbiting above. These satellites beam signals to your device, allowing it to pinpoint your exact location with remarkable accuracy.</p>
<p>Analyzing and visualizing geospatial data is essential in various fields, including geography, environmental sciences, urban planning, epidemiology, and transportation not to mention social science.</p>
<center>
<iframe src="https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d2609864.353940201!2d9.931419285209337!3d50.29760870509319!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e0!4m5!1s0x47a84e373f035901%3A0x42120465b5e3b70!2sBerlin!3m2!1d52.520006599999995!2d13.404954!4m5!1s0x479e75f9a38c5fd9%3A0x10cb84a7db1987d!2zTcO8bmNoZW4!3m2!1d48.1351253!2d11.5819805!5e0!3m2!1sde!2sde!4v1704277715694!5m2!1sde!2sde" width="600" height="450" style="border:0;" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade">
</iframe>
</center>
<p>Google Route from Berlin to Munich.</p>
<div id="geo-coordinates" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Geo coordinates<a href="geo-data.html#geo-coordinates" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="where-are-you" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Where Are You?<a href="geo-data.html#where-are-you" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Websites such as <a href="https://gps-coordinates.org/where-am-i.php">GPS Coordinates</a> offer the capability to determine your precise location on Earth. By accessing these platforms, users can obtain a visual representation of their current surroundings through a map view, along with corresponding geo-coordinates. This valuable service not only provides a real-time snapshot of your location but also offers the convenience of easily retrieving accurate geographic coordinates, enhancing navigation and location-aware applications.</p>
<p>Ask Google Maps for <code>Viadrina European University</code> returns two numbers <code>52.342977500409994</code>, <em>latitude</em> and <code>14.555877070488613</code> <em>latitude</em>.</p>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-a30c7cff0d28923f2003" style="width:576px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-a30c7cff0d28923f2003">{"x":{"options":{"minZoom":18,"maxZoom":18,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[52.34227495250781,52.34211581397726],[14.55386499935441,14.55458728330376],6,null,"University",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":[0.9,0.9],"fill":true,"fillColor":["#FDE333","#4B0055"],"fillOpacity":[0.6,0.6]},null,null,["<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>name&emsp;<\/th><td>Viadrina Main Building&emsp;<\/td><\/tr><tr><td>2<\/td><th>address&emsp;<\/th><td>GroÃe Scharrnstr.&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>","<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>2&emsp;<\/td><\/tr><tr><td>1<\/td><th>name&emsp;<\/th><td>Best Coffee In Town&emsp;<\/td><\/tr><tr><td>2<\/td><th>address&emsp;<\/th><td>GroÃe Scharrnstr.&emsp;<\/td><\/tr><tr><td>3<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["Viadrina Main Building","Best Coffee In Town"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[14.55386499935441,52.34211581397726,14.55458728330376,52.34227495250781,true,"University","Zoom to University","<strong> University <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#4B0055","#FDE333"],"labels":["Best Coffee In Town","Viadrina Main Building"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"University","extra":null,"layerId":null,"className":"info legend","group":"University"}]}],"limits":{"lat":[52.34211581397726,52.34227495250781],"lng":[14.55386499935441,14.55458728330376]},"fitBounds":[52.34211581397726,14.55386499935441,52.34227495250781,14.55458728330376,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="latitude-and-longitude" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Latitude and longitude<a href="geo-data.html#latitude-and-longitude" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Latitude and longitude are geographic coordinates used to specify locations on the Earth's surface. They are used to precisely determine a point's position in terms of its north-south and east-west positions.</p>
<div class="figure" style="text-align: center">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/FedStats_Lat_long.svg/1280px-FedStats_Lat_long.svg.png" alt="Longitude lines are perpendicular to and latitude lines are parallel to the Equator." width="80%" />
<p class="caption">
(#fig:lon_lat)Longitude lines are perpendicular to and latitude lines are parallel to the Equator.
</p>
</div>
<p><strong>Latitude</strong> measures the north-south position of a point on the Earth. The equator is defined as 0 degrees latitude, and it divides the Earth into the Northern Hemisphere (positive latitudes) and the Southern Hemisphere (negative latitudes). The range of latitude extends from -90 degrees (South Pole) to +90 degrees (North Pole).</p>
<p><strong>Longitude</strong> measures the east-west position of a point on the Earth. It is also measured in degrees, with the Prime Meridian serving as the reference point. The Prime Meridian, located at Greenwich, London, is defined as 0 degrees longitude. Longitude lines extend from the Prime Meridian to the International Date Line, which is roughly 180 degrees longitude. The range of longitude extends from -180 degrees to +180 degrees.</p>
<p>Well, who invented latitude and longitude and why is latitude positive in the north and where is the North anyway?</p>
<div class="reading">
<div class="titelreading">
<h2>
History
</h2>
</div>
<p>The decision to have latitude positive in the north and negative in the south is essentially arbitrary. The convention was established to provide a consistent and universally accepted reference frame for geographic coordinates. It was likely influenced by the fact that most early civilizations and cartographers were based in the northern hemisphere.</p>
<p>Regarding the choice of the prime meridian (0 degrees longitude) passing through Greenwich, England, it was largely due to historical reasons and the influence of the British Empire. The concept of establishing a prime meridian dates back to the 19th century when international cooperation in navigation and mapping was increasing. In 1884, at the International Meridian Conference held in Washington, D.C., representatives from various countries agreed to adopt the Greenwich Meridian as the Prime Meridian, mainly because the British Royal Observatory in Greenwich was already internationally recognized for its contributions to astronomy and navigation.</p>
</div>
<p>Europe is a continent located entirely in the Northern Hemisphere and mostly in the Eastern Hemisphere. It is situated to the west of Asia, separated by the Ural Mountains, the Ural River, the Caspian Sea, the Caucasus Mountains, and the Black Sea. Here are approximate latitude and longitude ranges for Europe:</p>
<ul>
<li>Latitude Range: Approximately 35 degrees North to 71 degrees North.</li>
<li>Longitude Range: Approximately 25 degrees West to 45 degrees East.</li>
</ul>
<div class="figure" style="text-align: center">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Europe_around_650.jpg/1920px-Europe_around_650.jpg" alt="Europe c. 650." width="80%" />
<p class="caption">
(#fig:europe_lat_long)Europe c. 650.
</p>
</div>
</div>
<div id="angles-and-degrees" class="section level3 hasAnchor" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Angles and Degrees<a href="geo-data.html#angles-and-degrees" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- <https://r-spatial.org/book/08-Plotting.html> -->
<p>The intuition is that latitude and longitude are <strong>angles</strong>. Angular measurements are commonly expressed in units of <em>degrees, minutes, and seconds (DMS)</em>. 1 degree equals 60 minutes, and one minute equals 60 seconds.</p>
<p>Berlin, the capitol of Germany is located:</p>
<ul>
<li>Latitude: 52Â° 31' 12" N</li>
<li>Longitude: 13Â° 24' 18" E</li>
</ul>
<p>in DMS. In <em>decimal degrees (DD)</em> we get:</p>
<p><span class="math display">\[\text{Decimal degree} = \text{Degree} + \frac{\text{Minute}}{60} + \frac{\text{Minute}}{3600}\]</span></p>
<ul>
<li>Latitude: 52.5200Â° N</li>
<li>Longitude: 13.4050Â° E</li>
</ul>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-112-1.png" width="576" /></p>
<p>In general, coordinates with six decimal places (0.000001 degrees) can provide location accuracy to approximately within a few centimeters. Each additional decimal place adds further precision, narrowing down the location to smaller units of measurement.</p>
<p>The entrance of Viadrina main building and the best coffee in town are about 40m away.</p>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-974d5e09770c4cdae9f2" style="width:576px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-974d5e09770c4cdae9f2">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[52.34227495250781,52.34211581397726],[14.55386499935441,14.55458728330376],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Viadrina Main Building","Best Coffee In Town"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[14.55386499935441,14.55458728330376],"lat":[52.34227495250781,52.34211581397726]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":2,"opacity":0.5,"fill":false,"fillColor":"red","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[52.34211581397726,52.34227495250781],"lng":[14.55386499935441,14.55458728330376]}},"evals":[],"jsHooks":[]}</script>
<p>Latitude is different in the 4th and longitude differs in the 3rd decimal.</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
address
</th>
<th style="text-align:right;">
lat
</th>
<th style="text-align:right;">
lon
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Viadrina Main Building
</td>
<td style="text-align:left;">
GroÃe Scharrnstr.
</td>
<td style="text-align:right;">
52.34228
</td>
<td style="text-align:right;">
14.55387
</td>
</tr>
<tr>
<td style="text-align:left;">
Best Coffee In Town
</td>
<td style="text-align:left;">
GroÃe Scharrnstr.
</td>
<td style="text-align:right;">
52.34212
</td>
<td style="text-align:right;">
14.55459
</td>
</tr>
</tbody>
</table>
</div>
<div id="coordinate-reference-system" class="section level3 hasAnchor" number="7.1.4">
<h3><span class="header-section-number">7.1.4</span> Coordinate Reference System<a href="geo-data.html#coordinate-reference-system" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A Coordinate Reference System (CRS) is a framework used to uniquely identify locations on the Earth's surface. It defines how geographic coordinates (latitude and longitude) are mapped to positions on a two-dimensional surface, whether it's a map or a computer screen.</p>
<p>Common CRS formats include:</p>
<ul>
<li>Geographic CRS (GCS): Based on a three-dimensional ellipsoidal model of the Earth. Examples include WGS 84 (World Geodetic System 1984) and NAD83 (North American Datum 1983).</li>
<li>Projected CRS: Represents locations on a two-dimensional plane (e.g., a map). Examples include UTM (Universal Transverse Mercator) and Web Mercator.</li>
</ul>
<p>The European Petroleum Survey Group Geodesy (EPSG) is best known for its system of spatial reference IDs for coordinate systems. An EPSG code is a unique ID that can be a simple way to identify a CRS.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="geo-data.html#cb69-1" tabindex="-1"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb69-2"><a href="geo-data.html#cb69-2" tabindex="-1"></a></span>
<span id="cb69-3"><a href="geo-data.html#cb69-3" tabindex="-1"></a><span class="co"># Get geometries of countries (default CRS is WGS 84)</span></span>
<span id="cb69-4"><a href="geo-data.html#cb69-4" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">&quot;medium&quot;</span>, <span class="at">returnclass =</span> <span class="st">&quot;sf&quot;</span>)</span>
<span id="cb69-5"><a href="geo-data.html#cb69-5" tabindex="-1"></a></span>
<span id="cb69-6"><a href="geo-data.html#cb69-6" tabindex="-1"></a><span class="co"># Check the CRS in world </span></span>
<span id="cb69-7"><a href="geo-data.html#cb69-7" tabindex="-1"></a><span class="fu">st_crs</span>(world)<span class="sc">$</span>input</span>
<span id="cb69-8"><a href="geo-data.html#cb69-8" tabindex="-1"></a><span class="co">#&gt; [1] &quot;WGS 84&quot;</span></span></code></pre></div>
<p>The default CRS is WGS 84 (World Geodetic System 1984) which is a widely used global geodetic datum and coordinate system, and it is based on an ellipsoidal model of the Earth.</p>
<p>Below there are two versions of Germany. The left version shows Germany from the WGS 84 (<code>st_transform(germany, crs = 4326)</code>). The right version shows Germany seen from Iceland (<code>st_transform(germany, crs = 5325)</code>).</p>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-116-1.png" width="576" /></p>
<p>Test this yourself. Go to Google Maps or Google Earth and navigate to the middle of Iceland. Now, look how the shape of Germany changes.</p>
</div>
<div id="distance-measurement" class="section level3 hasAnchor" number="7.1.5">
<h3><span class="header-section-number">7.1.5</span> Distance measurement<a href="geo-data.html#distance-measurement" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Distances are determined by the choice of a distance formula, and considerations such as accuracy requirements, computational efficiency, and the specific shape of the Earth's surface in the area of interest come into play. There are various methods, each tailored to specific contexts:</p>
<ul>
<li><strong>Euclidean distance</strong> (beeline distance in two dimensions) calculates the straight-line distance between two points in a <em>Cartesian coordinate system</em> (2D).</li>
<li><strong>Haversine distance</strong> is the distance between two points on a <em>sphere</em> given their longitudes and latitudes (3D).</li>
<li>The earth is not perfectly round. <strong>Vincenty distance</strong> assumes an <em>ellipsoid</em> instead.</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="geo-data.html#cb70-1" tabindex="-1"></a><span class="fu">library</span>(geosphere)</span>
<span id="cb70-2"><a href="geo-data.html#cb70-2" tabindex="-1"></a></span>
<span id="cb70-3"><a href="geo-data.html#cb70-3" tabindex="-1"></a><span class="co"># Define the coordinates of New York City and London</span></span>
<span id="cb70-4"><a href="geo-data.html#cb70-4" tabindex="-1"></a>coord_nyc <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">40.7128</span>, <span class="sc">-</span><span class="fl">74.0060</span>)  <span class="co"># New York City</span></span>
<span id="cb70-5"><a href="geo-data.html#cb70-5" tabindex="-1"></a>coord_ldn <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">51.5074</span>, <span class="sc">-</span><span class="fl">0.1278</span>)   <span class="co"># London</span></span>
<span id="cb70-6"><a href="geo-data.html#cb70-6" tabindex="-1"></a></span>
<span id="cb70-7"><a href="geo-data.html#cb70-7" tabindex="-1"></a><span class="co"># Haversine Distance</span></span>
<span id="cb70-8"><a href="geo-data.html#cb70-8" tabindex="-1"></a>haversine_distance <span class="ot">&lt;-</span> <span class="fu">distHaversine</span>(coord_nyc, coord_ldn)</span>
<span id="cb70-9"><a href="geo-data.html#cb70-9" tabindex="-1"></a></span>
<span id="cb70-10"><a href="geo-data.html#cb70-10" tabindex="-1"></a><span class="co"># Vincenty Sphere Distance</span></span>
<span id="cb70-11"><a href="geo-data.html#cb70-11" tabindex="-1"></a>sphere_distance <span class="ot">&lt;-</span> <span class="fu">distVincentySphere</span>(coord_nyc, coord_ldn) </span>
<span id="cb70-12"><a href="geo-data.html#cb70-12" tabindex="-1"></a></span>
<span id="cb70-13"><a href="geo-data.html#cb70-13" tabindex="-1"></a><span class="co"># Vincenty Ellipsoid Distance</span></span>
<span id="cb70-14"><a href="geo-data.html#cb70-14" tabindex="-1"></a>ellipsoid_distance <span class="ot">&lt;-</span> <span class="fu">distVincentyEllipsoid</span>(coord_nyc, coord_ldn)</span>
<span id="cb70-15"><a href="geo-data.html#cb70-15" tabindex="-1"></a></span>
<span id="cb70-16"><a href="geo-data.html#cb70-16" tabindex="-1"></a><span class="co"># Create a data frame</span></span>
<span id="cb70-17"><a href="geo-data.html#cb70-17" tabindex="-1"></a>distance_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb70-18"><a href="geo-data.html#cb70-18" tabindex="-1"></a>  <span class="at">Method =</span> <span class="fu">c</span>(<span class="st">&quot;Haversine&quot;</span>, <span class="st">&quot;Vincenty Sphere&quot;</span>, <span class="st">&quot;Vincenty Ellipsoid&quot;</span>),</span>
<span id="cb70-19"><a href="geo-data.html#cb70-19" tabindex="-1"></a>  <span class="at">Distance =</span> <span class="fu">c</span>(haversine_distance, sphere_distance, ellipsoid_distance)</span>
<span id="cb70-20"><a href="geo-data.html#cb70-20" tabindex="-1"></a>)</span>
<span id="cb70-21"><a href="geo-data.html#cb70-21" tabindex="-1"></a></span>
<span id="cb70-22"><a href="geo-data.html#cb70-22" tabindex="-1"></a><span class="co"># Display the data frame as a styled HTML table</span></span>
<span id="cb70-23"><a href="geo-data.html#cb70-23" tabindex="-1"></a><span class="fu">kable</span>(distance_data, <span class="at">format =</span> <span class="st">&quot;html&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb70-24"><a href="geo-data.html#cb70-24" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="st">&quot;striped&quot;</span>, <span class="at">full_width =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb70-25"><a href="geo-data.html#cb70-25" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot;Distance between New York and London&quot;</span> <span class="ot">=</span> <span class="dv">2</span>))</span></code></pre></div>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Distance between New York and London
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Method
</th>
<th style="text-align:right;">
Distance
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Haversine
</td>
<td style="text-align:right;">
8256431
</td>
</tr>
<tr>
<td style="text-align:left;">
Vincenty Sphere
</td>
<td style="text-align:right;">
8256431
</td>
</tr>
<tr>
<td style="text-align:left;">
Vincenty Ellipsoid
</td>
<td style="text-align:right;">
8234358
</td>
</tr>
</tbody>
</table>
</div>
<div id="points-and-polygons" class="section level3 hasAnchor" number="7.1.6">
<h3><span class="header-section-number">7.1.6</span> Points And Polygons<a href="geo-data.html#points-and-polygons" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Polygon data and geographical coordinates work together to represent and visualize spatial areas on a map. In a geographical context, polygons are commonly used to define the boundaries of regions, countries, cities, or any other geographic entities.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="geo-data.html#cb71-1" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb71-2"><a href="geo-data.html#cb71-2" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb71-3"><a href="geo-data.html#cb71-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb71-4"><a href="geo-data.html#cb71-4" tabindex="-1"></a></span>
<span id="cb71-5"><a href="geo-data.html#cb71-5" tabindex="-1"></a><span class="co"># Define coordinates of a simple polygon representing Germany</span></span>
<span id="cb71-6"><a href="geo-data.html#cb71-6" tabindex="-1"></a>germany_polygon <span class="ot">&lt;-</span> <span class="fu">st_polygon</span>(<span class="fu">list</span>(<span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">5</span>, <span class="dv">5</span>), <span class="fu">c</span>(<span class="dv">47</span>, <span class="dv">47</span>, <span class="dv">55</span>, <span class="dv">55</span>, <span class="dv">47</span>))))</span>
<span id="cb71-7"><a href="geo-data.html#cb71-7" tabindex="-1"></a></span>
<span id="cb71-8"><a href="geo-data.html#cb71-8" tabindex="-1"></a><span class="co"># Create an sf object with the polygon</span></span>
<span id="cb71-9"><a href="geo-data.html#cb71-9" tabindex="-1"></a>germany_sf <span class="ot">&lt;-</span> <span class="fu">st_sf</span>(<span class="at">geometry =</span> <span class="fu">st_sfc</span>(germany_polygon))</span>
<span id="cb71-10"><a href="geo-data.html#cb71-10" tabindex="-1"></a></span>
<span id="cb71-11"><a href="geo-data.html#cb71-11" tabindex="-1"></a><span class="co"># Plot the polygon</span></span>
<span id="cb71-12"><a href="geo-data.html#cb71-12" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb71-13"><a href="geo-data.html#cb71-13" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> germany_sf, <span class="at">fill =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb71-14"><a href="geo-data.html#cb71-14" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Abstract Polygon of Germany&quot;</span>) <span class="sc">+</span></span>
<span id="cb71-15"><a href="geo-data.html#cb71-15" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-118-1.png" width="576" /></p>
<p>Polygon data for countries typically comes from geospatial databases, GIS (Geographic Information System) data, or <strong>shapefiles</strong> maintained by government agencies, international organizations, or open-source initiatives.</p>
<!-- Get shape image png/svg from Wikipedia https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Germany_shape.svg/512px-Germany_shape.svg.png -->
<!-- Transform to number of dots with https://spotify.github.io/coordinator/ -->
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-119-.gif" width="384" style="display: block; margin: auto;" /></p>
<div class="figure" style="text-align: center">
<img src="https://upload.wikimedia.org/wikipedia/commons/c/cb/Germany_shape.svg" alt="Shape of Germany." width="80%" />
<p class="caption">
(#fig:ger_shape)Shape of Germany.
</p>
</div>
</div>
<div id="shapefiles" class="section level3 hasAnchor" number="7.1.7">
<h3><span class="header-section-number">7.1.7</span> Shapefiles<a href="geo-data.html#shapefiles" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Shapefiles</strong> are commonly used to represent geographic data. Shapefiles are a popular geospatial vector data format that stores both geometric and attribute information about geographic features. They are widely used in <em>geographic information system (GIS)</em> applications and can be easily imported and manipulated in R using various packages such as <code>sf</code>, <code>rgdal</code>, or <code>maptools</code>.</p>
<div class="dedicated">
<div class="titeldedicated">
<h2>
Truly Dedicated
</h2>
</div>
<p>These files together make up a shapefile, a widely used format for storing geospatial vector data. The combination of geometric and attribute data, along with coordinate system information, allows for the representation of complex geographic features in a structured and interoperable manner.</p>
<details>
<summary>.dbf File</summary>
<div>.dbf File: This file is the attribute table file associated with the shapefile. It stores the attribute data for each geographic feature in a tabular format. The attributes can include information such as names, IDs, population, or any other relevant data associated with the features. The .dbf file follows the dBase file format and can be accessed using functions like `read.dbf()` or `read.dbf()` in R.</div>
</details>
<details>
<summary>.prj File</summary>
<div>.prj File: This file contains the coordinate reference system (CRS) information for the shapefile. It specifies the spatial reference system and projection details, such as the coordinate units, projection method, and datum used. The CRS information is crucial for correctly interpreting and aligning the spatial data in the shapefile. In R, the CRS information can be accessed or set using functions provided by the sf package, such as st_crs() or st_set_crs().</div>
</details>
<details>
<summary>.shp File</summary>
<div>.shp File: This file stores the actual geometric data of the shapefile. It contains information about the shape, size, and location of each geographic feature, such as points, lines, or polygons. Each feature is represented by a set of vertices or coordinates.</div>
</details>
<details>
<summary>.shx File</summary>
<div>.shx File: This file is the shapefile index file. It provides a quick lookup or index of the geometric features in the shapefile. It helps in efficiently accessing specific features without reading the entire shapefile.</div>
</details>
</div>
<p><strong>Spatial Scale</strong></p>
<p>In determining the unit and scale for spatial analysis, it is crucial to align choices with research objectives and the analysis scope, whether at national, regional, or local levels. Considerations include evaluating data availability and granularity to match the resolution of spatial data.</p>
<p><strong>Geographical Entities</strong></p>
<p>Spatial or geographic entities, such as regions, countries, and cities, often refer to political boundaries. Shapefiles, typically sourced from official channels, primarily represent these boundaries. Political borders, administrative divisions, and state or province limits are commonly depicted. Additionally, shapefiles extend to transportation networks, capturing roads and railways for effective planning. These versatile files also cover topography, offering insights into elevation, land cover, and contour lines. Points of interest, like landmarks and businesses, are included, making shapefiles invaluable for applications in land management, urban planning, climate analysis, and demographic mapping. Overall, shapefiles serve as indispensable tools for visualizing and analyzing spatial data across diverse domains.</p>
</div>
</div>
<div id="google-takeout" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Google Takeout<a href="geo-data.html#google-takeout" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<!-- https://github.com/yashsakhuja/Cleaning-Google-Takeout-JSON-Data-to-check-places-visited -->
<!-- https://raw.githubusercontent.com/yashsakhuja/Cleaning-Google-Takeout-JSON-Data-to-check-places-visited/main/2023_JANUARY.json -->
<p>Google Takeout is a service provided by Google that allows users to export their data from various Google products. Users can request an archive of their data, which is then compiled into downloadable files. One of the types of data that users can request through Google Takeout is location data.</p>
<p>The Google Takeout in JSON format comes with nest variables in R. The class of <code>takeout</code> is a data.frame.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="geo-data.html#cb72-1" tabindex="-1"></a><span class="co"># Load JSON data</span></span>
<span id="cb72-2"><a href="geo-data.html#cb72-2" tabindex="-1"></a>json_data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">&quot;https://raw.githubusercontent.com/yashsakhuja/Cleaning-Google-Takeout-JSON-Data-to-check-places-visited/main/2023_JANUARY.json&quot;</span>)</span>
<span id="cb72-3"><a href="geo-data.html#cb72-3" tabindex="-1"></a></span>
<span id="cb72-4"><a href="geo-data.html#cb72-4" tabindex="-1"></a><span class="co"># Convert to data frame</span></span>
<span id="cb72-5"><a href="geo-data.html#cb72-5" tabindex="-1"></a>takeout <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(json_data)</span>
<span id="cb72-6"><a href="geo-data.html#cb72-6" tabindex="-1"></a></span>
<span id="cb72-7"><a href="geo-data.html#cb72-7" tabindex="-1"></a><span class="co"># Filter NA</span></span>
<span id="cb72-8"><a href="geo-data.html#cb72-8" tabindex="-1"></a>takeout <span class="ot">&lt;-</span> takeout <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(takeout<span class="sc">$</span>timelineObjects.placeVisit<span class="sc">$</span>location<span class="sc">$</span>name))</span>
<span id="cb72-9"><a href="geo-data.html#cb72-9" tabindex="-1"></a></span>
<span id="cb72-10"><a href="geo-data.html#cb72-10" tabindex="-1"></a><span class="co"># Convert E7 format to numeric for latitude and longitude</span></span>
<span id="cb72-11"><a href="geo-data.html#cb72-11" tabindex="-1"></a>takeout<span class="sc">$</span>latitude <span class="ot">&lt;-</span> takeout<span class="sc">$</span>timelineObjects.placeVisit<span class="sc">$</span>location<span class="sc">$</span>latitudeE7 <span class="sc">/</span> <span class="fl">1e7</span></span>
<span id="cb72-12"><a href="geo-data.html#cb72-12" tabindex="-1"></a>takeout<span class="sc">$</span>longitude <span class="ot">&lt;-</span> takeout<span class="sc">$</span>timelineObjects.placeVisit<span class="sc">$</span>location<span class="sc">$</span>longitudeE7 <span class="sc">/</span> <span class="fl">1e7</span></span>
<span id="cb72-13"><a href="geo-data.html#cb72-13" tabindex="-1"></a>takeout<span class="sc">$</span>name <span class="ot">&lt;-</span> takeout<span class="sc">$</span>timelineObjects.placeVisit<span class="sc">$</span>location<span class="sc">$</span>name</span>
<span id="cb72-14"><a href="geo-data.html#cb72-14" tabindex="-1"></a></span>
<span id="cb72-15"><a href="geo-data.html#cb72-15" tabindex="-1"></a><span class="co"># Create a leaflet map</span></span>
<span id="cb72-16"><a href="geo-data.html#cb72-16" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb72-17"><a href="geo-data.html#cb72-17" tabindex="-1"></a></span>
<span id="cb72-18"><a href="geo-data.html#cb72-18" tabindex="-1"></a><span class="fu">leaflet</span>(takeout) <span class="sc">%&gt;%</span></span>
<span id="cb72-19"><a href="geo-data.html#cb72-19" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span>  </span>
<span id="cb72-20"><a href="geo-data.html#cb72-20" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="sc">~</span>longitude, <span class="sc">~</span>latitude, </span>
<span id="cb72-21"><a href="geo-data.html#cb72-21" tabindex="-1"></a>             <span class="at">label =</span> <span class="sc">~</span>name)</span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-ea8e346e6aa3da357ab0" style="width:576px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ea8e346e6aa3da357ab0">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[53.4818449,53.4805152,53.4570023,53.4668498,53.4587243,53.4575273,53.4541667,53.4575273,53.4668498,53.4570023,53.4668498,53.4751304,53.4570023,53.4668498,53.4668498,53.4575273,53.4585285,53.4668498,53.4587243,53.4570023,53.4709891,53.4570023,53.4774166,53.0895485,52.1938765,52.1905174,52.190779,52.1938765,52.1914851,52.1925893,52.1943155,52.477754,53.0895485,53.4774166,53.4668498,53.4704477,53.4587243,53.4668498,53.4575273,53.4570024,53.4585285,53.4668498,53.4587243,53.4668498,53.4575273,53.4668498,53.4575273,53.4668498,53.4668498,53.4668498,53.4587243,53.4570024,53.4668498,53.4570024,53.4563738,53.4591701,53.4570024,53.483431,53.4570024,53.4587243,53.4570024,53.4567031,53.4587243,53.4875407,53.821572,53.7778162,53.7997175,53.8015937,53.8026094,53.8110718,53.7949721,53.4875407,53.4570024,53.4813121,53.4751304,53.4668498,53.4668498,53.4627151,53.4570024,53.4587243,53.472184,53.4570024,53.4845927,53.4803332,53.4709891,53.4570024,53.4668498,53.4570024,53.4590963,53.4570024,53.4590963,53.4573941,53.4570024,53.4567031,53.4570024],[-2.2363949,-2.237962,-2.2165686,-2.2338837,-2.2269084,-2.2276711,-2.2241667,-2.2276711,-2.2338837,-2.2165686,-2.2338837,-2.2380814,-2.2165686,-2.2338837,-2.2338837,-2.2276711,-2.2268977,-2.2338837,-2.2269084,-2.2165686,-2.2939516,-2.2165686,-2.2311667,-2.4336251,-1.7080275,-1.7079902,-1.7040499,-1.7080275,-1.7053918,-1.7045422,-1.7161269,-1.898958,-2.4336251,-2.2311667,-2.2338837,-2.2370187,-2.2269084,-2.2338837,-2.2276711,-2.2165696,-2.2268977,-2.2338837,-2.2269084,-2.2338837,-2.2276711,-2.2338837,-2.2276711,-2.2338837,-2.2338837,-2.2338837,-2.2269084,-2.2165696,-2.2338837,-2.2165696,-2.2268587,-2.2263522,-2.2165696,-2.2415316,-2.2165696,-2.2269084,-2.2165696,-2.2256166,-2.2269084,-2.2421815,-1.6078025,-1.5721446,-1.5393426,-1.5469284,-1.5371732,-1.5302543,-1.5473907,-2.2421815,-2.2165696,-2.2418715,-2.2380814,-2.2338837,-2.2338837,-2.2293754,-2.2165696,-2.2269084,-2.2385953,-2.2165696,-2.2436634,-2.2460735,-2.2939516,-2.2165696,-2.2338837,-2.2165696,-2.2270567,-2.2165696,-2.2270567,-2.2269376,-2.2165696,-2.2256166,-2.2165696],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,["The Crafty Pig, Manchester","Piccadilly Gardens","iQ Student Accommodation Manchester Gardens","The University of Manchester","Tesco Express","Ropemaker Court","Sanam Sweethouse &amp; Restaurant","Ropemaker Court","The University of Manchester","iQ Student Accommodation Manchester Gardens","The University of Manchester","Asia House","iQ Student Accommodation Manchester Gardens","The University of Manchester","The University of Manchester","Ropemaker Court","Lidl","The University of Manchester","Tesco Express","iQ Student Accommodation Manchester Gardens","The Quays","iQ Student Accommodation Manchester Gardens","Manchester Piccadilly","Crewe","Shakespeare's Birthplace","Shakespeare's Schoolroom &amp; Guildhall","Royal Shakespeare Theatre","Shakespeare's Birthplace","Rose &amp; Crown","McDonald's","Stratford-upon-Avon","Birmingham New Street","Crewe","Manchester Piccadilly","The University of Manchester","Pizza Hut Delivery","Tesco Express","The University of Manchester","Ropemaker Court","iQ Student Accommodation Manchester Gardens","Lidl","The University of Manchester","Tesco Express","The University of Manchester","Ropemaker Court","The University of Manchester","Ropemaker Court","The University of Manchester","The University of Manchester","The University of Manchester","Tesco Express","iQ Student Accommodation Manchester Gardens","The University of Manchester","iQ Student Accommodation Manchester Gardens","M S V South","Co-op","iQ Student Accommodation Manchester Gardens","Manchester Arndale","iQ Student Accommodation Manchester Gardens","Tesco Express","iQ Student Accommodation Manchester Gardens","Superb Barbers","Tesco Express","Manchester Victoria","Kirkstall Abbey","Elland Road","Pizza Fella","Leeds City Museum","Lovell Park","Science of the Soul Study Centre (RSSB), Leeds","Leeds","Manchester Victoria","iQ Student Accommodation Manchester Gardens","Digital Gurus","Asia House","The University of Manchester","The University of Manchester","McDonald's","iQ Student Accommodation Manchester Gardens","Tesco Express","Manchester Technology Centre","iQ Student Accommodation Manchester Gardens","1, Exchange Square Central, High St, Manchester M3 1BD","St James Square","The Quays","iQ Student Accommodation Manchester Gardens","The University of Manchester","iQ Student Accommodation Manchester Gardens","Poundland","iQ Student Accommodation Manchester Gardens","Poundland","Worldwide Foods Rusholme","iQ Student Accommodation Manchester Gardens","Superb Barbers","iQ Student Accommodation Manchester Gardens"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[52.1905174,53.821572],"lng":[-2.4336251,-1.5302543]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="blood-donation" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Blood Donation<a href="geo-data.html#blood-donation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Blood donation is a vital contribution to healthcare, saving countless lives every day. In Germany, the German Red Cross (Deutsches Rotes Kreuz) plays a crucial role in organizing and facilitating blood donation events across the country. You can find information about blood donation venues on their official website:</p>
<p><a href="https://www.blutspenden.de/blutspendedienste/" class="uri">https://www.blutspenden.de/blutspendedienste/</a></p>
<p>The code fetches, processes, and extracts information about blood donation locations in Germany from a website, organizing the data into a tidy tibble for further analysis and mapping.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="geo-data.html#cb73-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;rvest&#39;</span>)</span>
<span id="cb73-2"><a href="geo-data.html#cb73-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;stringr&#39;</span>)</span>
<span id="cb73-3"><a href="geo-data.html#cb73-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;stringi&#39;</span>)</span>
<span id="cb73-4"><a href="geo-data.html#cb73-4" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&#39;jsonlite&#39;</span>)</span>
<span id="cb73-5"><a href="geo-data.html#cb73-5" tabindex="-1"></a></span>
<span id="cb73-6"><a href="geo-data.html#cb73-6" tabindex="-1"></a>rubyhash <span class="ot">&lt;-</span> <span class="st">&quot;https://www.blutspenden.de/blutspendedienste/#&quot;</span> <span class="sc">%&gt;%</span></span>
<span id="cb73-7"><a href="geo-data.html#cb73-7" tabindex="-1"></a>  <span class="fu">read_html</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb73-8"><a href="geo-data.html#cb73-8" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&quot;body&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb73-9"><a href="geo-data.html#cb73-9" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&quot;script:first-of-type&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb73-10"><a href="geo-data.html#cb73-10" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb73-11"><a href="geo-data.html#cb73-11" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb73-12"><a href="geo-data.html#cb73-12" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb73-13"><a href="geo-data.html#cb73-13" tabindex="-1"></a></span>
<span id="cb73-14"><a href="geo-data.html#cb73-14" tabindex="-1"></a>blood <span class="ot">&lt;-</span> rubyhash<span class="sc">$</span>value <span class="sc">%&gt;%</span></span>
<span id="cb73-15"><a href="geo-data.html#cb73-15" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">&quot;var instituionsmap_data = &#39;</span><span class="sc">\\</span><span class="st">[</span><span class="sc">\\</span><span class="st">{&quot;</span>, <span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-16"><a href="geo-data.html#cb73-16" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">}</span><span class="sc">\\</span><span class="st">]&#39;;</span><span class="sc">\n</span><span class="st">&quot;</span>, <span class="st">&#39;&#39;</span>) <span class="sc">%&gt;%</span> <span class="co"># Removes the javascript chars at the end</span></span>
<span id="cb73-17"><a href="geo-data.html#cb73-17" tabindex="-1"></a>  <span class="fu">strsplit</span>(<span class="st">&#39;</span><span class="sc">\\</span><span class="st">},</span><span class="sc">\\</span><span class="st">{&#39;</span>) <span class="sc">%&gt;%</span> <span class="co"># Split into component json strings</span></span>
<span id="cb73-18"><a href="geo-data.html#cb73-18" tabindex="-1"></a>  <span class="fu">getElement</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-19"><a href="geo-data.html#cb73-19" tabindex="-1"></a>  <span class="fu">sapply</span>(<span class="cf">function</span>(x) <span class="fu">paste0</span>(<span class="st">&#39;{&#39;</span>, x, <span class="st">&#39;}&#39;</span>), <span class="at">USE.NAMES =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-20"><a href="geo-data.html#cb73-20" tabindex="-1"></a>  <span class="fu">lapply</span>(<span class="cf">function</span>(x) <span class="fu">as.data.frame</span>(<span class="fu">fromJSON</span>(x))) <span class="sc">%&gt;%</span></span>
<span id="cb73-21"><a href="geo-data.html#cb73-21" tabindex="-1"></a>  <span class="fu">bind_rows</span>() <span class="sc">%&gt;%</span></span>
<span id="cb73-22"><a href="geo-data.html#cb73-22" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb73-23"><a href="geo-data.html#cb73-23" tabindex="-1"></a></span>
<span id="cb73-24"><a href="geo-data.html#cb73-24" tabindex="-1"></a>blood <span class="ot">&lt;-</span> blood <span class="sc">%&gt;%</span> </span>
<span id="cb73-25"><a href="geo-data.html#cb73-25" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lat =</span> <span class="fu">as.numeric</span>(lat),</span>
<span id="cb73-26"><a href="geo-data.html#cb73-26" tabindex="-1"></a>         <span class="at">lon =</span> <span class="fu">as.numeric</span>(lon))</span>
<span id="cb73-27"><a href="geo-data.html#cb73-27" tabindex="-1"></a></span>
<span id="cb73-28"><a href="geo-data.html#cb73-28" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb73-29"><a href="geo-data.html#cb73-29" tabindex="-1"></a><span class="co">#blood %&gt;% select(title, street, number, zip, city, lat, lon) %&gt;% datatable()</span></span>
<span id="cb73-30"><a href="geo-data.html#cb73-30" tabindex="-1"></a></span>
<span id="cb73-31"><a href="geo-data.html#cb73-31" tabindex="-1"></a>blood <span class="sc">%&gt;%</span></span>
<span id="cb73-32"><a href="geo-data.html#cb73-32" tabindex="-1"></a>  <span class="fu">select</span>(title, street, number, zip, city, lat, lon) <span class="sc">%&gt;%</span></span>
<span id="cb73-33"><a href="geo-data.html#cb73-33" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb73-34"><a href="geo-data.html#cb73-34" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb73-35"><a href="geo-data.html#cb73-35" tabindex="-1"></a>      <span class="at">dom =</span> <span class="st">&#39;t&#39;</span>, <span class="co"># Display only the table</span></span>
<span id="cb73-36"><a href="geo-data.html#cb73-36" tabindex="-1"></a>      <span class="at">scrollX =</span> <span class="cn">TRUE</span>, <span class="co"># Enable horizontal scrolling</span></span>
<span id="cb73-37"><a href="geo-data.html#cb73-37" tabindex="-1"></a>      <span class="at">pageLength =</span> <span class="dv">10</span>, <span class="co"># Number of rows per page</span></span>
<span id="cb73-38"><a href="geo-data.html#cb73-38" tabindex="-1"></a>      <span class="at">lengthMenu =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">50</span>) <span class="co"># Set custom page lengths</span></span>
<span id="cb73-39"><a href="geo-data.html#cb73-39" tabindex="-1"></a>    ),</span>
<span id="cb73-40"><a href="geo-data.html#cb73-40" tabindex="-1"></a>    <span class="at">callback =</span> <span class="fu">JS</span>(<span class="st">&#39;</span></span>
<span id="cb73-41"><a href="geo-data.html#cb73-41" tabindex="-1"></a><span class="st">      table.rows().nodes().to$().css({&quot;font-size&quot;: &quot;10px&quot;, &quot;padding&quot;: &quot;5px&quot;});</span></span>
<span id="cb73-42"><a href="geo-data.html#cb73-42" tabindex="-1"></a><span class="st">    &#39;</span>)</span>
<span id="cb73-43"><a href="geo-data.html#cb73-43" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="geo-data.html#cb74-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;maps&quot;</span>)</span>
<span id="cb74-2"><a href="geo-data.html#cb74-2" tabindex="-1"></a><span class="co"># Retrieve the map data for Participant Countries </span></span>
<span id="cb74-3"><a href="geo-data.html#cb74-3" tabindex="-1"></a>Germany_map <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">&quot;world&quot;</span>, <span class="at">region =</span> <span class="st">&quot;German&quot;</span>)</span>
<span id="cb74-4"><a href="geo-data.html#cb74-4" tabindex="-1"></a></span>
<span id="cb74-5"><a href="geo-data.html#cb74-5" tabindex="-1"></a><span class="fu">ggplot</span>(Germany_map, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group)) <span class="sc">+</span></span>
<span id="cb74-6"><a href="geo-data.html#cb74-6" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb74-7"><a href="geo-data.html#cb74-7" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb74-8"><a href="geo-data.html#cb74-8" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb74-9"><a href="geo-data.html#cb74-9" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb74-10"><a href="geo-data.html#cb74-10" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">&quot;Locations&quot;</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb74-11"><a href="geo-data.html#cb74-11" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> blood, <span class="fu">aes</span>(<span class="at">x =</span> lon, <span class="at">y =</span> lat, <span class="at">group =</span> title), <span class="at">shape =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb74-12"><a href="geo-data.html#cb74-12" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb74-13"><a href="geo-data.html#cb74-13" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>),</span>
<span id="cb74-14"><a href="geo-data.html#cb74-14" tabindex="-1"></a>    <span class="at">aspect.ratio =</span> <span class="fl">1.2</span>,  <span class="co"># Adjust the aspect ratio as needed</span></span>
<span id="cb74-15"><a href="geo-data.html#cb74-15" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="st">&quot;cm&quot;</span>)  <span class="co"># Adjust margins as needed</span></span>
<span id="cb74-16"><a href="geo-data.html#cb74-16" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="Becoming-Fluent-In-Data_files/figure-html/unnamed-chunk-126-1.png" width="576" /></p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="web-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Becoming Fluent In Data.pdf", "Becoming Fluent In Data.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": false
},
"toc_depth": 1,
"toc-title": "Table of Contents",
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
